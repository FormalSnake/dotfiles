"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7704],{53661:(e,t,s)=>{s.d(t,{E:()=>n});var i=s(50959),a=s(11527);const n=e=>(0,a.jsx)(i.Suspense,{fallback:null,children:(0,i.createElement)((0,i.lazy)((async()=>{const{FeatureActivationSection:e}=await Promise.all([s.e(1814),s.e(9792)]).then(s.bind(s,48673));return{default:e}})),e)})},70761:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>ue,SKELETON_SHELVES_COUNT:()=>me,default:()=>xe});s(55330);var i=s(50959),a=s(84875),n=s.n(a),r=s(92389),o=s(76917),c=s(29611),l=s(47848),d=s(5701),p=s(8968),m=s(69080),u=s(77864),g=s(26831),h=s(90763),x=s(14908),f=s(1186),j=s(59242),y=s(80685),b=s(71610),v=s(37585),S=s(84726),w=s(90343),k=s(77370),D=s(80956),_=s(60820),N=s(99971),C=s(93722),E=s(10473),M=s(99422);const H="AaXwi9LLckdsxNwrosnQ",F="yX31EzBkHzNooefkSvT3",I="EjJHF7tjFYigQK8pIVbV",A="Z5xLXZofWXGooKRjW6kd",W="kM546dTx5cxDNH530zm8",$="mnhJCpUiriAb7Ay3HOTz",P="rRldspwHsrgo8DsecR2Q";var L=s(11527);const T=({isMWP:e})=>(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${A} ${W}`,"aria-hidden":"true",children:[(0,L.jsx)("source",{src:(0,C.g)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,L.jsx)("source",{src:(0,C.g)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,L.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${A} ${$}`,"aria-hidden":"true",children:[(0,L.jsx)("source",{src:(0,C.g)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,L.jsx)("source",{src:(0,C.g)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]}),U=({isMWP:e})=>(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("picture",{children:[(0,L.jsx)("source",{srcSet:(0,C.g)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,L.jsx)("source",{srcSet:(0,C.g)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,L.jsx)("img",{className:`${A} ${W}`,src:"",alt:""})]}),(0,L.jsxs)("picture",{children:[(0,L.jsx)("source",{srcSet:(0,C.g)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,L.jsx)("source",{srcSet:(0,C.g)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,L.jsx)("img",{className:`${A} ${$}`,src:"",alt:""})]})]}),R=(0,i.forwardRef)((({linkUri:e,loggedIn:t,isMWP:s,isStatic:i=!1,onClick:a},r)=>{const o=(0,E.jh)(),c=(0,M.T)();return(0,L.jsx)("div",{className:H,ref:r,children:(0,L.jsxs)("div",{className:(0,k.Mg)("invertedLight",n()(F,{[I]:s})),children:[i||c?(0,L.jsx)(U,{isMWP:s}):(0,L.jsx)(T,{isMWP:s}),(0,L.jsx)(D.D,{as:"h2",variant:"brio",semanticColor:"textBase",className:P,children:t?d.ag.get("shared.wrapped-banner.title"):d.ag.get("shared.wrapped-banner.title-loggedout")}),(0,L.jsx)(D.D,{as:"p",variant:o===E.Uo.SMALL||s?"mesto":"ballad",semanticColor:"textBase",children:t?d.ag.get("shared.wrapped-banner.body"):d.ag.get("shared.wrapped-banner.body-loggedout")}),(0,L.jsx)(_.D,{colorSet:"invertedDark",iconTrailing:N.T,href:e,target:"_blank",size:o===E.Uo.SMALL||s?"small":"medium",onClick:a,children:d.ag.get("shared.wrapped-banner.button")})]})})}));var O=s(26917);const J=()=>{const e=(0,S.g)(),t=(0,c.W6)(w.bQB),{openURLWithSessionTransfer:s}=(0,O.e)(),{spec:a,logger:n}=(0,j.fU)(v.e,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),r=(0,i.useMemo)((()=>a.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[a]),o=(0,j.Wi)(r),l="https://spotify.com/wrapped",d=(0,i.useCallback)((e=>{n.logInteraction(r.hitUiNavigate({destination:l})),s(l),e.preventDefault()}),[n,s,r]);return(0,L.jsx)(R,{linkUri:l,loggedIn:!e,onClick:d,ref:o,isStatic:t})};var z=s(26817);const Z=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var Q=s(4955),B=s(36564),K=s(86506),V=(s(14534),s(69776),s(99801),s(15880)),Y=s(87205);const q=({spec:e,section:t,index:s})=>(0,i.useMemo)((()=>t.sectionItems.items.some((e=>(0,Y.d)(e.content)))),[t.sectionItems])?(0,L.jsx)(j.Nh,{spec:e.shelvesFactory(),children:(0,L.jsx)(V.q,{total:t.sectionItems.totalCount,seeAllUri:t.uri,pageId:t.uri,title:t.data.title?.text??"",index:s,id:t.uri,children:t.sectionItems.items.map(Y.x).filter((e=>!!e))})}):null;var X=s(80111);const G=({spec:e,section:t,index:s})=>(0,L.jsx)(j.Nh,{spec:e.shelvesFactory(),children:(0,L.jsx)(X.default,{title:t.data.title?.text??void 0,showAll:!1,index:s})});var ee=s(17578),te=s(53661),se=s(18289);const ie=({spec:e,greeting:t,section:s,index:i})=>{const a=(0,B._n)();switch(s.data?.__typename){case"HomeGenericSectionData":return(0,L.jsx)(q,{spec:e,section:(0,se.f)(s,s.data),index:i});case"HomeShortsSectionData":return(0,L.jsx)(ee.s,{spec:e,greeting:t,section:(0,se.f)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,L.jsx)(G,{spec:e,section:(0,se.f)(s,s.data),index:i});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{if(!a)return null;const e=(0,se.f)(s,s.data),{data:t,sectionItems:i}=e,n=i.items[0];if("PlaylistResponseWrapper"===n.content.__typename&&"Playlist"===n.content.data.__typename){const{data:e}=n.content;return(0,L.jsx)(B.KE,{uri:B.rv,shelfTitle:t.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeFeatureActivationSectionDataV2":return(0,L.jsx)(te.E,{sectionItems:s.sectionItems.items,uri:s.uri,localStorageKey:s.data.localStorageKey});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,K._)(s.data),null}},ae=({spec:e,greeting:t,container:s})=>{const{spec:a,logger:n}=(0,j.fU)(z.createDesktopHomeFeatureActivationShelfEventFactory,{}),r=((e,t)=>t?[e.sections.items[0],Z,...e.sections.items.slice(1)]:e.sections.items)(s,(0,c.W6)(w.iiT,{loadingValue:!1}));return(0,i.useEffect)((()=>{(0,Q.wW)()&&n.logImpression(a.impressionElementFactory().impression())}),[a,n]),(0,L.jsx)(L.Fragment,{children:r.map(((s,i)=>(0,L.jsx)(ie,{spec:e,greeting:t,section:s,index:i},`${i}-${s.uri}`)))})};var ne=s(81691),re=s(42744),oe=s(65939),ce=s(87798),le=s(49937);const de=()=>(0,c.W6)(w.Jw1)===w.pFI.ONHOME?(0,L.jsx)(le.w,{children:(0,L.jsx)(ce.W,{onSearch:!1})}):null;var pe=s(79590);const me=6,ue=6,ge=(0,i.memo)((({shelfCount:e,cardCount:t})=>(0,L.jsx)("section",{"data-testid":"home-page",children:(0,L.jsx)("div",{className:pe.Z.home,children:(0,L.jsxs)("div",{className:n()(pe.Z.content,"contentSpacing"),children:[(0,L.jsx)(m.H,{withTitle:!1}),[...new Array(e).keys()].map(((e,s)=>(0,L.jsx)(ne.e,{withTitle:!0,cardCount:t},s)))]})})}))),he=({spec:e})=>{(0,g.z)("home");const t=(0,r.v9)(oe.rZ),{subfeedId:s=null}=(0,o.UO)(),{data:i,error:a,fetching:l}=(0,y.b3)({timeZone:(0,b.UE)(),sp_t:(0,h.vQ)("sp_t")??"",country:t,facet:s},{cacheTime:b.us,staleTime:b.fS}),p=(0,c.W6)(w._dp),m=(0,c.W6)(w.bQB),f=p||m;if(l)return(0,L.jsx)(ge,{shelfCount:me,cardCount:ue});if(null!==a)return(0,L.jsx)(u.h,{hasError:!0,errorMessage:d.ag.get("error.generic")});const j=i?.home;return"HomeResponsePayload"!==j?.__typename?(0,L.jsx)(u.h,{hasError:!0,errorMessage:d.ag.get("error.generic")}):0===j.sectionContainer.sections.totalCount||0===j.sectionContainer.sections.items.length?((0,x.vK)(new Error("Empty response from pathfinder"),"Home"),(0,L.jsx)(u.h,{hasError:!0,errorMessage:d.ag.get("error.generic")})):(0,L.jsx)("section",{"data-testid":"home-page",children:(0,L.jsx)("div",{className:pe.Z.home,children:(0,L.jsxs)("div",{className:n()(pe.Z.content,"contentSpacing"),children:[f&&(0,L.jsx)(J,{}),(0,L.jsx)(ae,{spec:e,greeting:j.greeting?.text??null,container:j.sectionContainer})]})})})},xe=()=>{const{spec:e}=(0,j.fU)(l.F,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,re.k)({type:"locale",uri:"home"});return(0,L.jsxs)(j.Nh,{spec:e,children:[(0,L.jsx)(p.$,{children:(0,f.nW)({i18n:d.ag,shouldLocalize:t})}),(0,L.jsx)(i.Suspense,{fallback:null,children:(0,L.jsx)(de,{})}),(0,L.jsx)(he,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.js.map