"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3838],{76749:(e,t,n)=>{n.r(t),n.d(t,{CulturalMomentHub:()=>Z,REDIRECT_BASE:()=>q,default:()=>ee});var i=n(94080),s=n(60327),r=n(79474),l=n(97500),o=n.n(l),a=n(96761),c=n(89551),u=n(10583),d=n(29821);const m=(e,t)=>e.build().withHost(d.LG).withPath("/hub").withQueryParameters({id:t,userHasRiF:!1}).withoutMarket().withEndpointIdentifier("cultural-moment/hub").send();var p=n(52745),h=n(3043),g=n(4977),x=n(4888),b=n(79698),f=n(52842),j=n(13274);const y=({image:e,color:t=h.vyq,title:n})=>{const i=void 0===e?x.KR.SMALL:x.KR.DEFAULT,s=e?.custom?.sizes?.flatMap((e=>e.uri?[{url:e.uri,width:e.width,height:e.height}]:[]))??(e?.uri?[{url:e?.uri}]:[]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(x.z4,{backgroundImages:s,backgroundColor:t,size:i,children:[(0,j.jsx)(b.h,{children:n?(0,j.jsx)(f.X,{text:n}):null}),(0,j.jsx)(x.Y$,{children:n?(0,j.jsx)(x.mm,{children:n}):null})]}),(0,j.jsx)(g.f,{color:t})]})};n(62355),n(60608),n(1137),n(83367);var v=n(63275),w=n(88202),R=n(71088),A=n(42156);const D=e=>{if("number"==typeof e){return new Date(1e3*e).toISOString()}return null};const I=(e,t,n)=>{if(void 0===e.id)return null;const i=t.map(((e,t)=>function(e,t){const n=e.component?.id,i=e.id;if(void 0===n||void 0===i)return null;const s=e.events?.click?.data?.uri,r=e.images?.main?.uri,l=r?[{url:r}]:[];switch(n){case"culturalmoments:mediumEpisodeCard":case"culturalmoments:episodeCardActionsMedium":return void 0===s?null:(0,j.jsx)(R.U,{uri:s,name:e.text?.title??"",images:l,showImages:l,description:e.text?.description??e.text?.subtitle??"",durationMilliseconds:(o=e.custom?.duration,"number"==typeof o?o:0),releaseDate:D(e.custom?.releaseDate),resume_point:null,isExplicit:!1,is19PlusOnly:!1,sharingInfo:null,index:t},s);case"culturalmoments:playlistCard":case"culturalmoments:playlistCardActionsMedium":return void 0===s?null:(0,j.jsx)(A.B,{uri:s,name:e.text?.title??"",images:l,description:e.text?.description??"",authorName:e.text?.subtitle??"",index:t},s);default:return null}var o}(e,t))).flatMap((e=>e?[e]:[]));if(0===i.length)return null;const s=(0,v.o_)(e.events?.click?.data?.uri??"")?.toURLPath(!0);return(0,j.jsx)(w.p,{title:e.text?.title??"",total:i.length,seeAllUri:s,index:n,id:e.id,seeAllLabel:e.text?.accessory,children:i})},C=e=>{const t=(e=>{const t=Array();let n,i=Array();return e.forEach((e=>{"culturalmoments:sectionHeaderWithAction"===e.component?.id?(n&&0!==i.length&&t.push({heading:n,components:i}),n=e,i=Array()):n&&("culturalmoments:carousel"===e.component?.id||"glue2:carousel"===e.component?.id?e.children?.forEach((e=>{i.push(e)})):i.push(e))})),n&&0!==i.length&&t.push({heading:n,components:i}),t})(e);return(0,j.jsx)(j.Fragment,{children:t.map(((e,t)=>I(e.heading,e.components,t)))})};var N=n(11814),k=n(88514),S=n(63174),O=n(88320),E=n(36981),F=n(39555),M=n(53326),B=n(90810);const U="pgo3GiB844kDFl6Qbo05",L="RhOeeOpI4AOwx0QAVneD",_="XSE6HhcsNgvOjU0xmuTN";var P=function(e){return e.ANDROID="https://play.google.com/store/apps/details?id=com.spotify.music",e.IOS="https://apps.apple.com/app/spotify-music/id324684580",e}(P||{});const H=({spec:e})=>{const t=c.R.getLocaleForTranslation(),n=(0,E.s)(),i=(0,F.t)(e),s=t=>{if(t===P.ANDROID){const i=e.googleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(i)}else{const i=e.appleBadgeFactory().hitNavigateToWebviewUri({destination:t});n.logInteraction(i)}};return(0,j.jsxs)(N.a,{variant:"tinted",style:{width:600},ref:i,children:[(0,j.jsx)(k.E,{as:"p",variant:"bodyMediumBold",style:{marginBottom:S.v4},children:c.R.get("web-player.cultural-moments.unsupportedHeading")}),(0,j.jsx)(k.E,{as:"p",variant:"bodySmall",style:{marginBottom:S.CD},children:c.R.get("web-player.cultural-moments.unsupportedDescription")}),(0,j.jsxs)("div",{className:o()(_),children:[(0,j.jsx)(M.default,{to:P.IOS,target:"_blank",onClick:()=>s(P.IOS),children:(0,j.jsx)("img",{src:(0,O.b)((0,B.f)(t)),alt:c.R.get("web-player.cultural-moments.unsupported.appleAppStoreAlt"),className:U})}),(0,j.jsx)(M.default,{to:P.ANDROID,target:"_blank",onClick:()=>s(P.ANDROID),children:(0,j.jsx)("img",{src:(0,O.b)((0,B.A)(t)),alt:c.R.get("web-player.cultural-moments.unsupported.googlePlayStoreAlt"),className:o()(U,L)})})]})]})};var T=n(1369),V=n(35951),W=n(19935),Q=n(81891);const z="BnW4ga5mfG9DYWXeADCL",G="RL_W31RCuHFbSTBORR6w",K="xfR1I0mMRPPSCr9FUSJs",X=({uri:e,id:t})=>{const{data:n,error:i,loading:s}=(0,T.Z)(m,[t]),{spec:l,UBIFragment:d}=(0,p.r)(a.j,{data:{identifier:e,uri:e}}),h=(0,r.useMemo)((()=>l.shelvesFactory()),[l]),g=(0,r.useMemo)((()=>l.mobilePromptFactory()),[l]),x=n?.body.hubViewData?.body,b=n?.body.hubViewData?.header;if(null===n||void 0===x||void 0===b||s||null!==i)return(0,j.jsx)(Q.A,{hasError:null!==i,errorMessage:c.R.get("error.generic")});const f=n.body.hubViewData?.title,v=b?.text?.title;return(0,j.jsxs)(d,{spec:l,children:[(0,j.jsx)(W.Q,{children:f??""}),v?(0,j.jsx)("div",{className:z,children:(0,j.jsx)(y,{title:b?.text?.title,image:b.images?.background})}):null,(0,j.jsx)(d,{spec:h,children:(0,j.jsxs)("div",{className:K,children:[v&&(0,j.jsx)(V.K,{}),(0,j.jsx)("div",{className:o()("contentSpacing",G),children:(0,j.jsxs)(u._,{children:[(0,j.jsx)(H,{spec:g}),x?C(x):null]})})]})})]})};var $=n(76839),Y=n(2038);const q="https://accounts.spotify.com/login",J=()=>{const e=window.location.href;return window.location.href=`${q}?continue=${encodeURIComponent(e)}`,null},Z=e=>{const t=(0,$.V)(),n=(0,i.NC)(s.Be8,{loadingValue:!1});return t?(0,j.jsx)(J,{}):n?(0,j.jsx)(X,{...e}):(0,j.jsx)(Y.InstrumentedRedirect,{to:"/"})},ee=Z}}]);
//# sourceMappingURL=xpui-routes-cultural-moment-hub.js.map