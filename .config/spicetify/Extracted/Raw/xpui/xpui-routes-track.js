"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3890],{70210:(e,a,t)=>{t.d(a,{J:()=>i});var n=t(50578),r=t(34757);const c=new n.l("getTrack","query","ae85b52abb74d20a4c331d4143d4772c95f34757bfa8c625474b912b9055b5c0",null),i=(e,a)=>(0,r.I)(c,e,a)},46829:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var n=t(79474),r=t(85980),c=t(61343),i=t(63275),o=t(89551),s=t(81891),d=t(70210),l=t(82383),u=t(34757),f=t(30520),k=t(42209),b=t(13274);const g=n.memo((function(){const e=(0,c.Zp)(),a=(0,c.zy)(),t=(0,n.useContext)(k.wO),g=(0,f.K)(),{trackId:p=""}=(0,c.g)(),{isAnonymous:h}=(0,r.d4)(l.Ht),m=new URLSearchParams(a.search).get("context")||"",y=(0,i.tR)(p).toURI(),U=(0,d.J)({uri:y},{gcTime:30*u.i}),w=(0,n.useCallback)(((a,t)=>{const n=g.getState(),r=(0,i.o_)(t)?.toURLPath(!0),c=`${r}?highlight=${y}`;h?e(c):(n&&!n.isPaused||a>-1&&g.play({uri:t},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:a}}),e(c,{replace:!0}))}),[e,h,g,y]),I=(0,n.useCallback)((()=>{if(!U.loading&&U.data?.trackUnion&&"Track"===U.data.trackUnion.__typename){const e=(U.data.trackUnion.albumOfTrack?.tracks?.items??[]).findIndex((e=>e.track.uri===y));e>=0&&w(e,U.data.trackUnion.albumOfTrack?.uri||"")}}),[w,U,y]);return(0,n.useEffect)((()=>{const e=(0,i.tb)(m);m&&e?t.getContents(m).then((e=>{const a=e.items.findIndex((e=>e?.uri===y));a<0?I():w(a,m)})):I()}),[m,I,w,t,y]),U.loading||U.error||"Track"!==U.data?.trackUnion?.__typename?(0,b.jsx)(s.A,{hasError:!U.loading,errorMessage:o.R.get("track-page.error")}):null})),p=g}}]);
//# sourceMappingURL=xpui-routes-track.js.map