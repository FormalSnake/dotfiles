"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[3878],{84454:(e,i,n)=>{n.d(i,{j:()=>d});var a=n(50959),t=n(16254),l=n(76999),s=n(28528),r=n(11527);const d=a.memo((function({uri:e,size:i=l.q.md,className:n,onClick:d}){const[o,c]=(0,t.Z)(e),m=(0,s.o)(),u=(0,a.useCallback)((()=>{m({targetUri:e,intent:o?"unsave":"save",type:"click"}),c(!o)}),[m,e,o,c]);return(0,r.jsx)(l.o,{className:n,isFollowing:o,onFollow:u,onClick:d,uri:e,size:i})}))},7550:(e,i,n)=>{n.d(i,{T:()=>u});var a=n(50959),t=n(84875),l=n.n(t),s=n(97538),r=n(5701),d=n(38159),o=n(75357);const c="pvGZ831aNzHTQMZ8CA_u";var m=n(11527);const u=(0,a.memo)((function({onClick:e=(()=>{}),size:i,className:n,uri:t,sharingInfo:u,interactionData:k,ariaLabel:p=r.ag.get("mwp.list.item.share")}){const{onCopyLink:v}=(0,o.y)({sharingInfo:u,uri:t,interactionData:k}),S=(0,a.useCallback)((()=>{v(),e()}),[e,v]);return(0,m.jsx)(d.E,{ariaLabel:p,size:i,onClick:S,className:l()(c,n),icon:s.M,condensed:!0})}))},56790:(e,i,n)=>{n.r(i),n.d(i,{ThisIsTourCard:()=>c,default:()=>c,useThisisPlaylistExtensionQuery:()=>k});var a=n(88798),t=n(65537),l=n(5701),s=n(54171),r=n(59242),d=n(1054),o=n(11527);const c=e=>{const{artistImageUrl:i,artistName:n,artistConcertsUri:c,spec:m}=e,u=(0,r.$P)(),k=(0,r.Wi)(m.concertsCardFactory({identifier:n,uri:c,reason:"This is On Tour phase 1 MVP"}));return i&&n&&c?(0,o.jsxs)("section",{ref:k,className:"contentSpacing",children:[(0,o.jsx)(a.x,{as:"h1",variant:"bodyMediumBold",semanticColor:"textBase",children:l.ag.get("concerts")}),(0,o.jsx)("div",{className:d.Z.cards,children:(0,o.jsxs)("div",{className:d.Z.tourCard,"data-testid":"on-tour-card",children:[(0,o.jsx)("img",{className:d.Z.cardImage,src:i,alt:""}),(0,o.jsxs)("div",{className:d.Z.cardContent,children:[(0,o.jsx)(a.x,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",className:d.Z.subtitle,children:l.ag.get("concerts_on_tour")}),(0,o.jsx)(a.x,{as:"h1",variant:"bodyMediumBold",className:d.Z.title,semanticColor:"textBase",children:n}),(0,o.jsx)(s.default,{to:c,className:d.Z.cardLink,children:(0,o.jsx)(t.P,{as:"span",size:"small",onClick:()=>{const e=m.concertsCardFactory({identifier:n,uri:c,reason:"This is On Tour phase 1 MVP"}).hitUiNavigate({destination:c});u.logInteraction(e)},className:d.Z.cardButton,children:l.ag.get("concerts_see_all_events")})})]})]})})]}):null};var m=n(1620);const u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"thisisPlaylistExtension"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playlistV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Playlist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistsOnTour"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"}},{kind:"Field",name:{kind:"Name",value:"upcomingEventsCount"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"concerts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConcertV2"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"startDateIsoString"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"city"}},{kind:"Field",name:{kind:"Name",value:"country"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]},k=(e,i)=>(0,m.a)(u,e,i)},66555:(e,i,n)=>{n.r(i),n.d(i,{default:()=>Ft});n(44267),n(29746),n(29593),n(18974),n(7340),n(28220),n(80628),n(14534),n(24208),n(99801),n(55330);var a=n(50959),t=n(92389),l=n(76917),s=n(88798),r=n(29611),d=n(72380),o=n(90880),c=n(5701),m=n(87099),u=(n(69776),n(7422)),k=n(11527);const p=(e,i,n)=>({event:e,app_startup_id:null,ad_playback_id:null,ad_id:String(i),lineitem_id:String(n),creative_id:String(i),ad_format:"sponsored playlist",slot:null,in_focus:null,username:null,jsondata:JSON.stringify({platform:"WebPlayer",revision:"1.0.0"})}),v=({clickTracking:e,clickThrough:i,thirdPartyImpression:n,impression:l,logoUrl:r,advertiserName:d,creativeId:o,lineItemId:m})=>{const v=(0,t.I0)(),[S,y]=(0,a.useState)(!1);return(0,a.useEffect)((()=>(v((0,u.Vw)()),v((0,u.kh)(p("event_viewed",o,m))),()=>{v((0,u.AG)())})),[v,o,m]),(0,k.jsxs)("div",{className:"sponsor-container",children:[(0,k.jsx)(s.x,{variant:"marginal",className:"sponsor-text","data-ta-id":"sponsor-text",children:c.ag.get("playlist.presented_by",d)}),(0,k.jsxs)("div",{className:"sponsor-logo",children:[(0,k.jsx)("a",{draggable:!1,className:"sponsor-logo__link",target:"_blank",href:i,onClick:()=>{v((0,u.kh)(p("event_clicked",o,m))),y(!0)},children:(0,k.jsx)("img",{draggable:!1,className:"sponsor-logo__image",src:r,alt:d,"data-ta-id":"sponsor-logo"})}),(0,k.jsx)("img",{className:"sponsor-logo__imp-pixel",src:l,alt:""}),n&&(0,k.jsx)("img",{className:"sponsor-logo__3p-imp-pixel",src:n,alt:""}),S&&(0,k.jsx)("img",{className:"sponsor-logo__click-img-pixel",src:e,alt:""})]})]})},S=({playlistUri:e})=>{const i=(0,t.I0)(),n=(0,t.v9)((i=>i.ads.sponsoredPlaylist.previewAd||i.ads.sponsoredPlaylist.sponsoredPlaylist.get(e)));return(0,a.useEffect)((()=>{n||i((0,u.fd)(e))}),[i,e,n]),n?(0,k.jsx)("div",{children:(0,k.jsx)(v,{...n})}):null},y=({playlistUri:e})=>{const i=(0,t.I0)(),n=(0,t.v9)((e=>e.ads.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships"))),l=(0,t.v9)((e=>e.ads.sponsoredPlaylist.previewAd));(0,a.useEffect)((()=>{n||i((0,u.z8)())}),[i,n]);const s=l||n&&((e,i)=>{const n=Date.now()/1e3,a=e.split(":"),t=a[a.length-1];return i.some((({playlistId:e,endTime:i,startTime:a})=>e===t&&n>=a&&n<(i||n+1)))})(e,n);return s?(0,k.jsx)(S,{playlistUri:e}):null};var g=n(34514),N=n(8968),h=n(48655),x=n(60820),b=n(16254);const f="hOOwEKqNuXrNvOCB1SgZ",C="csEdkIN9z2LjJIuZraqz",F=({uri:e})=>{const[i,n]=(0,b.Z)(e),t=(0,l.s0)(),r=(0,a.useCallback)((()=>{n(!1),t("/",{replace:!0})}),[t,n]);return(0,k.jsxs)("div",{className:f,children:[(0,k.jsx)(h.l,{size:"xxlarge"}),(0,k.jsxs)("div",{className:C,children:[(0,k.jsx)(s.x,{as:"p",variant:"titleSmall",children:c.ag.get("forbidden-page.title")}),(0,k.jsx)(s.x,{as:"p",variant:"bodySmall",children:c.ag.get("forbidden-page.description")})]}),i&&(0,k.jsx)(x.D,{colorSet:"invertedLight",onClick:r,children:c.ag.get("remove_from_your_library")})]})};var j=n(77864),T=n(71851),R=n(49679),A=n(15120),I=n(85712),E=n(76457),D=n(70267),_=n(56790),P=n(43095),L=n(45053),w=n(4704),V=n(94834),U=n(23055),M=n(91733);const O=e=>e.seoExperiment,B=(0,U.P1)(O,(e=>e?.uri)),Z=((0,U.P1)(O,(e=>e?.[M.p.TRACK])),(0,U.P1)(O,(e=>e?.[M.p.ALBUM])),(0,U.P1)(O,(e=>({...e?.[M.p.PLAYLISTV2],...e?.[M.p.PLAYLIST]}))));var W=n(28528),z=n(29729),K=n(18561),Q=n(21355),H=n(90763),J=n(84726),G=n(43206),q=n(28307),Y=n(90343),X=n(65939),$=n(47001);const ee=({context:e,shouldFire:i})=>{const n=(0,J.g)(),l=(0,t.v9)($.n5),s=(0,t.v9)(X.rZ),d=(0,r.W6)(Y.kye),o=(0,G.s4)(),c=(0,a.useCallback)((()=>{const i={category:"rpp_exposures",action:"playlist_page_visit",variant:d,label:"dwp",os:(0,q.y)(),context:e,country:l?s:"",sp_t:(0,H.vQ)("sp_t")};n?o.send((0,Q.k)(i)):o.send((0,K.x)(i))}),[d,e,l,s,n,o]);(0,a.useEffect)((()=>{i&&c()}),[c,i])};var ie=n(33325),ne=n(49698),ae=n(43113),te=n(56522),le=n(45503),se=n(1620),re=n(22038),de=n(71749),oe=n(44338),ce=n(17673),me=n(28004);var ue=n(10508),ke=n(19916),pe=n(1186),ve=n(59242),Se=n(6962),ye=n(57409);n(53261);let ge=function(e){return e.RPP="rich-playlist-pages-2",e.TEST="test",e}({}),Ne=function(e){return e.CONTROL="0",e.VARIANT="1",e}({});var he=n(75390);const xe=[],be=(e,i)=>{const n=[];let a=e,t=i;for(;a>0;){const i=Math.ceil(a/t);n.push({first:e-a,nrItems:i}),a-=i,t--}return n},fe=e=>{const{itemsInNode:i,renderItem:n,renderPlaceholder:a,estimatedHeight:t,scrollNodeRef:l,nrRowsOverscan:s=10,nrInitialInView:r=0,firstIndex:d,heights:o,fanOut:c=2}=e,{ref:m,inView:u,entry:p}=(0,he.YD)({root:l.current,rootMargin:s*t+"px 0px",initialInView:d<r}),v=`${d}-${i}`;o[v]??=t*i,p?.boundingClientRect?.height&&(o[v]=p.boundingClientRect.height);const S=o[v];return 0===i?null:u?1===i?(0,k.jsx)("div",{ref:m,role:"presentation",children:n(d,S)}):(0,k.jsx)("div",{ref:m,role:"presentation",children:be(i,c).map((({first:i,nrItems:n},a)=>(0,k.jsx)(fe,{...e,itemsInNode:n,firstIndex:d+i},a)))}):(0,k.jsx)("div",{ref:m,role:"presentation",children:a(`${S}px`)})},Ce=e=>{const i=(e=>{const i=xe.find((i=>i.key===e))?.heights||{},n=(0,a.useCallback)((i=>{if(!e)return;const n=xe.findIndex((i=>i.key===e));-1===n?xe.push({key:e,heights:i}):(xe[n].heights=i,xe.push(xe.splice(n,1)[0])),xe.length>10&&xe.shift()}),[e]),t=(0,a.useRef)({...i});return(0,a.useEffect)((()=>()=>{n(t.current)}),[n]),t.current})(e.persistanceKey);return(0,k.jsx)(fe,{...e,itemsInNode:e.totalCount,firstIndex:0,heights:i,nrInitialInView:e.nrInitialInView})};var Fe=n(81804),je=n(70931),Te=n(84875),Re=n.n(Te),Ae=n(55416),Ie=n(24441),Ee=n(65537),De=n(91970),_e=n(9421),Pe=n(77167),Le=n(26228),we=n(80774),Ve=n(71751),Ue=n(19320),Me=n(53981),Oe=n(50807),Be=n(10473),Ze=n(14894),We=n(96688),ze=n(84454),Ke=n(95018),Qe=n(7550),He=n(18009),Je=n(67808);const Ge="bg5inM_sdkHpYWiFf7Id",qe="TtqXijjGONVNSJN1gzLA",Ye="DyW2LAm9YDcCkcdM0eeP",Xe="GI1bZrJZQJnE38IOOayI",$e="tALgrI4NHLfjIhAaFX8e",ei="Rr7BwXdL98GPx2zBYLKz",ii={intent:"share",type:"click",itemIdSuffix:"contextmenu/episode/share"},ni=({uri:e,menu:i,name:n})=>{const[a,t]=(0,b.Z)(e),l=(0,Je._)(e);return(0,k.jsxs)("div",{className:Xe,children:[(0,k.jsx)(We.H,{className:Re()({[$e]:a}),isAdded:a,onClick:()=>{t(!a)},size:"small",isAudiobook:!0}),(0,k.jsx)(ze.j,{className:Re()({[$e]:(0,He.y)(l)}),uri:e,size:"small"}),(0,k.jsx)(Qe.T,{uri:e,sharingInfo:null,interactionData:ii,size:"small"}),(0,k.jsx)(Ue.yj,{menu:i,children:(0,k.jsx)(Ke.z,{label:c.ag.get("more.label.context",n),size:"small"})})]})};var ai=n(26146),ti=n(7637),li=n(39017),si=n(82349),ri=n(81468),di=n(50832);var oi=n(86769),ci=n(67107);const mi="vkhnr3uwrBrS2pegUmPR",ui="VwgowRwmzJbjcNgje5Af",ki="UpvN3DdwY8e9hBFRFYVJ",pi="pokfjIuYWJEbZYTep0bj",vi=({uri:e,isExplicit:i,rating:n,durationMs:t,topics:l})=>{const r=(e=>{const i=(0,si.z)(),n=(0,li.useQueryClient)(),t=(0,a.useRef)(null),l=(0,a.useRef)(0),s=(0,ri.Y)((i=>i?.context.uri===e?i?.item?.uri??null:null)),[r]=(0,di.z)(1e4,(e=>e?.item?.uri===s)),{data:d}=(0,li.useQuery)(["useShowPlayedState",e],(async()=>{const n=i.getShowPlayedState(e);return l.current=r,n}),{refetchOnWindowFocus:!1});return(0,a.useEffect)((()=>{t.current&&s!==t.current&&n.invalidateQueries(["useShowPlayedState",e]),t.current=s}),[s,n,e]),(0,a.useMemo)((()=>d&&i.capabilities.canGetShowPlayedState?{state:d.state,playPositionMilliseconds:d.playPositionMilliseconds+r-l.current}:null),[d,i,r])})(e);return(0,k.jsxs)("div",{className:mi,children:[i&&(0,k.jsx)(ti.N,{}),(0,k.jsxs)(s.x,{variant:"bodySmall",className:pi,children:[n?.showAverage&&n.average&&(0,k.jsxs)("span",{children:[(0,k.jsx)(ai.u,{size:"xsmall",className:ui}),c.ag.formatNumber(n.average,{maximumFractionDigits:1})]}),l[0]?.title&&(0,k.jsx)("span",{className:ki,children:l[0].title}),t&&(0,k.jsx)(ci.E,{isPlaying:!1,fullyPlayed:r?.state===oi._N.Completed,durationMs:t,position:r?.playPositionMilliseconds})]})]})};var Si=n(22786);const yi=(0,a.createContext)({getReference:()=>null,setReference:()=>{}}),gi=({children:e})=>{const i=(0,a.useRef)(null),n=(0,a.useCallback)((()=>i.current),[]),t=(0,a.useCallback)((e=>{i.current=e}),[]);return(0,k.jsx)(yi.Provider,{value:{getReference:n,setReference:t},children:e})};const Ni=(e,i,n)=>{const{name:l,uri:s,uid:r}=e,d=(0,L.O)({itemIds:[r],itemUris:[s],itemMimeTypes:[Si.RN.AUDIOBOOKS],dragLabelText:l,contextUri:i}),{setReference:o,getReference:c}=(0,a.useContext)(yi),u=(0,a.useCallback)((e=>{o({uri:s,uid:r}),d(e)}),[d,o,r,s]),k=(0,t.I0)(),p=(0,a.useContext)(de.ZF),v=(0,a.useCallback)(((e,n)=>{const a=e[Si.RN.AUDIOBOOKS];if(!a)return;const t=c();t?n===Le.Pw.BEFORE?p.move(i,[t],{before:{uri:s,uid:r}}):p.move(i,[t],{after:{uri:s,uid:r}}):n===Le.Pw.BEFORE?k((0,m.jV)(i,a,{before:{uri:s,uid:r}})):k((0,m.jV)(i,a,{after:{uri:s,uid:r}})),o(null)}),[i,k,c,p,o,r,s]),S=n?[Si.RN.AUDIOBOOKS]:[];return{...(0,Le.WB)({uri:s,id:r,allowedMimeTypesByDropPosition:{[Le.Pw.BEFORE]:S,[Le.Pw.AFTER]:S},onDrop:v}),onDragStart:u}},hi=()=>(0,k.jsx)("div",{className:Ye}),xi=(0,a.memo)((function({item:e,contextUri:i,canEdit:n=!1,isRecommendation:t=!1,canRemove:r=!1}){const{name:d,description:m,isLocked:u,isExplicit:p,images:v,type:S,uri:y,uid:g,authorName:N,consumptionCapExplanation:h,rating:x,durationMs:b,topics:f}=e,{isPlaying:C,togglePlay:F}=(0,re.n)({uri:y},{featureIdentifier:"playlist"}),j=(0,l.s0)(),T=(0,o.EC)(y).toURLPath(!0),{className:R,dropPosition:A,...I}=Ni(e,i,n),E=(0,Ze.TJ)(),{addItems:D}=(0,de.Yv)(i),_=(0,Be.jh)(),P=(0,a.useCallback)((()=>{D([y],{after:"end"})}),[y,D]),L=(0,a.useCallback)((()=>{u&&!h?j(T):F()}),[h,u,j,F,T]),w=_===Be.Uo.SMALL,V=(0,k.jsx)(Ae.g,{lineClamp:2,dir:"auto",children:d}),U=(0,k.jsxs)("div",{children:[m&&(0,k.jsx)(Ie.o,{lineClamp:2,as:"div",dir:"auto",children:(0,k.jsx)(we.w,{asTextContent:!0,html:m})}),(0,k.jsx)(vi,{uri:y,isExplicit:!!p,rating:x,durationMs:b,topics:f})]}),M=(0,k.jsx)(Pe.X,{uri:y,uid:g,contextUri:i,includeGoToAudiobook:!0,canBeRemovedFromPlaylist:r}),O=t?null:(0,k.jsxs)("div",{className:qe,children:[(0,k.jsx)(ni,{uri:y,menu:M,name:d}),(0,k.jsx)(Ve.f,{size:"small",version:Ve.u.secondary,onClick:L,isPlaying:C,ariaPlayLabel:c.ag.get("tracklist.a11y.play",d,d),ariaPauseLabel:c.ag.get("tracklist.a11y.pause",d,d),locked:u&&!h})]}),B=(0,k.jsx)(Me.O,{fadeIn:!0,images:E(v,48),shape:Me.K.ROUNDED_CORNERS,size:w?Oe.m$.SIZE_64:Oe.m$.SIZE_112,iconSize:w?"medium":"xlarge",type:S,title:d,loadingMode:"eager"}),Z=e.signifierText?(0,k.jsx)(s.x,{as:"div",variant:"bodySmall",semanticColor:"textBrightAccent",children:e.signifierText}):null,W=t?(0,k.jsx)(Ee.P,{size:"small",onClick:P,children:c.ag.get("playlist.extender.button.add")}):null,z=(0,k.jsxs)(De.l,{hasTextSeparator:!0,children:[c.ag.get("card.tag.audiobook"),N]});return(0,k.jsxs)(k.Fragment,{children:[A===Le.Pw.BEFORE&&(0,k.jsx)(hi,{}),(0,k.jsx)(Ue._P,{menu:M,children:(0,k.jsx)(_e.w,{hoverBackgroundColor:"backgroundTintedHighlight",activeBackgroundColor:"backgroundTintedBase",className:Re()(R,ei),draggable:!0,id:`book-${y}`,layout:w?"regular":"wide",media:B,pretitle:Z,title:V,body:U,subtitle:z,footer:O,trailing:W,onClick:()=>{j(T)},hoverAnimationDuration:"0ms",...I})}),A===Le.Pw.AFTER&&(0,k.jsx)(hi,{})]})}));var bi=n(27337);const fi=({contextUri:e,initialItems:i,nrItems:n,canEdit:t,canRemove:s})=>{const r=(0,a.useContext)(de.ZF),d=(0,te.Mi)(),{filter:o}=(0,a.useContext)(A.fo),{sortState:c}=(0,a.useContext)(I.Gb),{contentsOptions:m}=(0,bi.d)(c,o),u=(0,a.useCallback)((async(i,n)=>{const a=await r.getContents(e,{...m,offset:i,limit:n}),t=a.items.map((e=>null===e?null:(0,je.yD)(e)?e:null));return{...a,items:t}}),[r,m,e]),{getItem:p,nrValidItems:v,invalidateCache:S}=(0,Fe.Q)({nrItems:n,fetch:u,limit:50,initialItems:i});(0,de.rZ)(e,S);const y=(0,a.useCallback)((e=>(0,k.jsx)("div",{style:{height:e}})),[]),g=(0,a.useCallback)(((i,n)=>{const a=p(i);return a?(0,k.jsx)(xi,{contextUri:e,item:a,canEdit:t,canRemove:s},a.uri):y(`${n}px`)}),[t,s,e,p,y]),N="POP"===(0,l.ur)()?0:10;return(0,k.jsx)("div",{className:Ge,children:(0,k.jsx)(gi,{children:(0,k.jsx)(Ce,{totalCount:v,estimatedHeight:200,renderItem:g,renderPlaceholder:y,scrollNodeRef:d,nrRowsOverscan:10,persistanceKey:e,nrInitialInView:N})})})};var Ci=n(41812),Fi=n(79446),ji=n(89996),Ti=n(69767),Ri=n(85804),Ai=n(99993);const Ii={column:null,order:Ci.kn.NONE},Ei=a.memo((function({ariaLabel:e,nrTracks:i,playlistUri:n,scrollToUid:t,usePlayContextItem:l,tracklistDomRef:s,sortableColumns:r,isCompactMode:d=!1}){const o=(0,a.useContext)(de.ZF),{filter:c,setFilter:m}=(0,a.useContext)(A.fo),u=(0,a.useRef)(null),p=(0,a.useCallback)((()=>{u.current&&u.current.update()}),[]);(0,Ri.r)(n,p);const{sortState:v,setSortState:S}=(0,a.useContext)(I.Gb),y=(0,a.useCallback)((e=>{S((0,R.VK)(e,v))}),[v,S]);(0,a.useEffect)((()=>{S(Ii),m("")}),[n,m,S]),(0,a.useEffect)((()=>{u.current&&t&&u.current.scrollToItem({uid:t})}),[t]);const g=(0,a.useCallback)((async(e,i)=>{const a=await o.getContents(n,{offset:e,limit:i,sort:(0,R._j)(v),filter:c,decorateFormatListData:!0});return{items:a.items,totalLength:a.totalLength}}),[n,o,v,c]),N=(0,a.useCallback)(((e,i)=>{const a=(0,Ai.X)(e.album?.images,{desiredSize:40,desiredLabel:"small"});return(0,k.jsx)(Ci.h_,{index:i,contextUri:n,uri:e.uri,uid:e.uid||void 0,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:e.isExplicit,isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:a?.url||"",statusChange:e.formatListAttributes?.status,playCount:parseInt(e.formatListAttributes?.rank||"0",10),usePlayContextItem:l,isCompactMode:d},i+e.uri)}),[n,l,d]),h=(0,Fi.v)(),x=(0,a.useCallback)((e=>({uri:e.uri,uid:e.uid})),[]);return(0,k.jsx)(Ti.JL,{value:"chart-tracklist",children:(0,k.jsx)(Ci.Pv,{ariaLabel:e,hasHeaderRow:!0,columns:h,sortableColumns:r,sortState:v,onSort:y,renderRow:N,resolveItem:x,nrTracks:i,fetchTracks:g,limit:100,canFetchAllTracks:o.getCapabilities().canFetchAllTracks,outerRef:u,outerDomRef:s,columnPersistenceKey:"chart-tracklist",isCompactMode:d,className:ji.Z.chartTrackList},n)})}));var Di=n(84816),_i=n(76999),Pi=n(57735),Li=n(21393),wi=n(49597),Vi=n(79258),Ui=n(83524),Mi=n(54472),Oi=n(38776),Bi=n(75317),Zi=n(64412),Wi=n(98133),zi=n(79476),Ki=n(22442),Qi=n(94666),Hi=n(62952);const Ji={bottomEnd:Hi.LR.topStart,top:Hi.LR.bottom},Gi=({visible:e,onHide:i,placement:n,children:a,label:t})=>(0,k.jsx)(Ki.x,{placement:n,withPortal:!0,overlay:e&&(0,k.jsx)("div",{className:"encore-dark-theme encore-layout-themes",children:(0,k.jsx)(Qi.J,{arrow:Ji[n],colorSet:"announcement",onClose:i,children:t})}),children:a});var qi=n(60190),Yi=n(6200);let Xi=function(e){return e.xs="small",e.sm="medium",e.md="large",e}({});const $i=({uri:e,label:i,onClick:n,size:a=Xi.md})=>{const{onCopyLink:t}=(0,Yi.l)({uri:e,permissionLevel:"CONTRIBUTOR"}),{toggleActivationVisible:l,setToggleActivationVisible:s}=(0,qi.I)();return(0,k.jsx)(Gi,{visible:l,onHide:()=>s(!1),label:c.ag.get("web-player.playlist.invite-collaborators.message"),placement:"bottomEnd",children:(0,k.jsx)(zi.ws,{label:i,children:(0,k.jsx)(Zi.o,{onClick:e=>{n?.(e),t?.()},iconOnly:Wi.V,size:a,"aria-hidden":"true","aria-label":i,condensed:!0})})})};var en=n(42846),nn=n(97253),an=n(77558);const tn=a.memo((({metadata:e,tracklistDomRef:i,sortableColumns:n})=>{const{hasSpotifyAudiobooks:t}=e,l=t||!1,{spec:s,logger:r}=(0,ve.fU)(en.createDesktopSearchBarEventFactory,{}),d=(0,a.useCallback)((()=>{r.logInteraction(s.filterFieldFactory().keyStrokeFilter())}),[r,s]),o=(0,a.useCallback)((()=>{r.logInteraction(s.filterFieldFactory().hitClearFilter())}),[r,s]);return(0,k.jsxs)("div",{className:T.Z.searchBoxContainer,children:[(0,k.jsx)(a.Suspense,{fallback:null,children:(0,k.jsx)(nn.K,{placeholder:c.ag.get("playlist.search_in_playlist"),onFilter:d,onClear:o,clearOnEscapeInElementRef:i})}),(0,k.jsx)(an.l,{columns:[...n],isBooklist:l})]})}));var ln=n(38093),sn=n(1308),rn=n(72441),dn=n(18436),on=n(38780),cn=n(78201),mn=n(53921);const un="Uw4gqTFuHRLn4VKga_bJ",kn="SdECNwBCnmkKl0Q0mJff",pn="HLkGXLclDq_7guCiD1Xq",vn="vWR6alsFpTlgXUckErqF",Sn="EbHQLci0cfLjHmS0AKp2",yn="HzYFPEbZdd6fQW4jfcz4",gn="SQEgwtR2aj51qFj6cMNZ",Nn="aaNtMSjjJ4cClWoe6K0k",hn="BhtBJTnsM9AotmyN0MPr",xn="FwoyMQocCMLEafLlvAk5",bn="xcn0geYcJliTHbvcds12",fn="KptBBI16DBjQBjvPQtlH";function Cn(e){const i=(0,a.useRef)(null);return(0,k.jsx)(sn.Y,{center:!0,onClose:e.onClose,ref:i,withPortal:!0,children:(0,k.jsx)(rn.l,{className:un,"aria-label":"Example showing onClose property",body:(0,k.jsxs)("div",{className:hn,children:[(0,k.jsx)(Zi.o,{size:"medium","aria-label":"IconX",iconOnly:dn.k,onClick:e.onClose,className:bn}),(0,k.jsx)(Zi.o,{size:"medium","aria-label":"IconArrowLeft",iconOnly:cn.D,className:xn}),(0,k.jsx)("div",{className:kn,children:(0,k.jsxs)("div",{className:pn,children:[(0,k.jsx)("div",{className:Sn,children:(0,k.jsxs)("div",{className:yn,children:[(0,k.jsx)(ln.E,{className:gn,src:"https://i.scdn.co/image/ab6761610000517469fd2e170a6d290939620b61",alt:"A headshot profile picture of Afrobeats artist Lojay",imageHeight:"150px",imageWidth:"150px",crop:!0,circle:!0}),(0,k.jsx)(ln.E,{className:Nn,src:"spotify:image:ab67706c0000da8465307c7864e1e9d53770a94e",alt:"Ginjapiano playlist profile picture",imageHeight:"150px",imageWidth:"150px",crop:!0,circle:!0})]})}),(0,k.jsxs)("div",{className:vn,children:[(0,k.jsxs)(s.x,{as:"p",variant:"marginalBold",children:[(0,k.jsx)("span",{style:{color:"#dc744d"},children:"4M"})," STREAMED THIS WEEK"]}),(0,k.jsxs)(s.x,{as:"p",variant:"titleMedium",children:["IM IN THE ",(0,k.jsx)("span",{style:{color:"#dc744d"},children:"TOP 21% "}),"OF GINJAPIANO LISTENERS THIS WEEK."]})]}),(0,k.jsx)("div",{className:Sn,children:(0,k.jsx)(mn.V,{size:"xlarge"})})]})}),(0,k.jsx)("div",{className:fn,children:(0,k.jsx)(x.D,{colorSet:"invertedLight",children:"Share"})})]})})})}const Fn="nTTPGZGk721M6gfldG43",jn="BFYSUcA4ifYvgDzOQX5Q",Tn="el9_37CCpYKxCRKDDyww",Rn="FB376b7R1M_0YQZ_SahS",An="srPBn9_CV0NzQEEzW9f6",In="te8Z8OuKxZx1gbjb7_ua",En=a.memo((function({setuserView:e}){const[i,n]=(0,a.useState)(!1);return(0,k.jsxs)(k.Fragment,{children:[i&&(0,k.jsx)(Cn,{onClose:()=>{n(!1)}}),(0,k.jsx)(sn.Y,{center:!0,withPortal:!0,children:(0,k.jsx)(rn.l,{colorSet:"overMedia","aria-label":"Title",body:(0,k.jsx)("div",{children:(0,k.jsx)(s.x,{as:"p"})}),dialogTitle:(0,k.jsxs)("div",{className:Fn,children:[(0,k.jsxs)("div",{className:Tn,children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(ln.E,{src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"20px",imageWidth:"20px",crop:!0,circle:!0}),(0,k.jsx)(ln.E,{src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0})]}),(0,k.jsx)(s.x,{as:"h1",variant:"titleMedium",children:"Rap Caviar"})]}),(0,k.jsxs)("div",{className:jn,children:[(0,k.jsx)(Zi.o,{iconOnly:dn.k,onClick:()=>e(!1),className:An}),(0,k.jsx)(Zi.o,{iconOnly:on.o,className:In,onClick:()=>{n(!0)}})]}),(0,k.jsx)("div",{className:Rn,children:(0,k.jsx)(s.x,{as:"p",variant:"bodyMedium",children:"Hello you made it to the top 10 percent"})})]}),id:"dialogAlert"})})]})})),Dn="__97AKHEfxNtqFsLai1b",_n="pzFwHV7jvPlWTI6cG5TV",Pn="iZu1aH8cr2cw98gqmTeo",Ln="JRvbfJh7eAZ_1FrQukej";function wn(){const[e,i]=(0,a.useState)(!1);return(0,k.jsxs)(k.Fragment,{children:[e&&(0,k.jsx)(En,{setuserView:i}),(0,k.jsxs)("button",{className:Dn,onClick:()=>i(!0),children:[(0,k.jsxs)("div",{className:_n,children:[(0,k.jsx)(ln.E,{className:Pn,src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0}),(0,k.jsx)(ln.E,{className:Pn,src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0}),(0,k.jsx)(ln.E,{className:Pn,src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0})]}),(0,k.jsxs)("div",{className:Ln,children:[(0,k.jsx)(s.x,{as:"p",variant:"bodySmallBold",children:"View employee leaderboard"}),(0,k.jsx)(s.x,{as:"p",variant:"bodySmall",children:"You're in the top 21% of listeners."})]})]})]})}var Vn=n(76977),Un=n(36208);const Mn=a.memo((function({playlist:e,capabilities:i,spec:n,isPlaying:t,isActive:l,togglePlay:s,isBooklist:d,isConcert:o=!1,backgroundColor:m,tracklistDomRef:u,sortableColumns:p}){const{metadata:{uri:v,name:S,unfilteredTotalLength:y,isOwnedBySelf:g,canPlay:N,isPublished:h,totalLength:x}}=e,f=(0,z.k)(),C=(0,ve.$P)(),F=(0,a.useMemo)((()=>n.shuffleButtonContainerFactory()),[n]),j=i.canFilter&&y>0,R=i.canSort&&y>0,A=y>0,I=(0,r.W6)(Y.v8$),E=(0,r.W6)(Y.MF8,{loadingValue:!1}),D=(0,Un.Q)(),[_,P]=(0,b.Z)(v),L=(0,W.o)(),w=(0,a.useCallback)((async()=>{L({targetUri:v,intent:_?"unsave":"save",type:"click"});try{await P(!_)}catch{}}),[_,L,P,v]),V=(0,a.useCallback)((()=>{const e=n.shareButtonFactory().hitShare({entityToBeShared:v,shareId:""});C.logInteraction(e)}),[n,C,v]),U=(0,a.useCallback)((()=>{let e;const i=n.heartButtonFactory();e=_?i.hitUnfollow({itemToBeUnfollowed:v}):i.hitFollow({itemToBeFollowed:v}),C.logInteraction(e),w()}),[n,w,_,C,v]),M=(0,Oi.j)(),O=j&&R;return(0,k.jsxs)(Di.o,{backgroundColor:m,children:[(0,k.jsxs)(Di.F,{children:[N&&!d?(0,k.jsx)(Vi.$,{onClick:s,isPlaying:t,size:M,uri:v,ariaPlayLabel:c.ag.get("playlist.a11y.play",S),ariaPauseLabel:c.ag.get("playlist.a11y.pause",S)}):null,D&&x>0&&!d&&(0,k.jsx)(ve.Nh,{spec:F,children:(0,k.jsx)(Mi.K,{shuffleContext:Vn.W.playlistActionBar,entityName:S,contextUri:v,isActive:l,activationPlacement:"bottomEnd",size:M})}),g?null:(0,k.jsx)(Li.r,{children:(0,k.jsx)(We.H,{isAdded:!!_,onClick:U,size:M})}),!d&&(0,k.jsx)(_i.o,{uri:v,isFollowing:!!_,canDownload:A,onClick:(e,i)=>(0,ae.l7)(i,n.downloadButtonFactory(),C,v),onFollow:w,size:M}),(0,k.jsx)(wi.F,{property:Y.bMb,renderNewExperience:()=>e.metadata.permissions?.canAdministratePermissions&&f&&(!d||E)?(0,k.jsx)($i,{onClick:V,label:c.ag.get("permissions.invite-collaborators",S),uri:v,size:M}):null}),(o||d)&&(0,k.jsx)(Qe.T,{uri:v,sharingInfo:null,interactionData:{intent:"share",type:"click",itemIdSuffix:o?"concerts-near-you/share":"booklist/share"},onClick:V,size:M}),(0,k.jsx)(Bi.y,{onShow:()=>(0,ae.qq)(n,C),menu:(0,k.jsx)(Pi.X,{uri:v,isPublished:h}),children:(0,k.jsx)(Ke.z,{label:c.ag.get("more.label.context",S),size:M})}),O?(0,k.jsx)(ve.Nh,{spec:n,children:(0,k.jsx)(tn,{metadata:e.metadata,tracklistDomRef:u,sortableColumns:p})}):(0,k.jsx)("div",{className:T.Z.leadingSlot,children:(0,k.jsx)(wi.F,{property:Y.FMs,renderNewExperience:()=>(0,k.jsx)(Ui.A,{options:[],onSelect:()=>{},selected:null,enableViewModeMenu:!0})})})]}),I&&(0,k.jsx)(wn,{})]})}));var On=n(44402),Bn=n(54171);const Zn=e=>{const i=(0,ve.$P)(),n=(0,a.useMemo)((()=>e.spec.promoCardFactory()),[e.spec]),t=(0,ve.Wi)(n);return(0,k.jsxs)("div",{className:T.Z.concertsFooter,children:[(0,k.jsx)(Bn.default,{to:"/concerts",className:T.Z.ctaLink,onClick:()=>{const e=n.hitUiNavigate({destination:"spotify:app:concerts"});i.logInteraction(e)},children:(0,k.jsxs)("div",{className:T.Z.promoRow,ref:t,children:[(0,k.jsx)(s.x,{as:"h2",variant:"bodyMediumBold",className:T.Z.promoTitle,children:c.ag.get("concerts.find_more")}),(0,k.jsx)(On.A,{as:"span",selected:!0,children:c.ag.get("concerts.find_nearby")}),(0,k.jsx)("img",{className:T.Z.promoImage,alt:"",src:"https://i.scdn.co/image/ab676d63000076a0dbdb7dc2499cbb9ef096518d"})]})}),(0,k.jsx)("div",{className:T.Z.disclaimerContainer,children:(0,k.jsx)(s.x,{as:"div",variant:"marginal",semanticColor:"textSubdued",children:c.ag.get("concerts_near_you.playlist_disclaimer")})})]})};var Wn=n(61058),zn=n(70087),Kn=n(8516);const Qn="multiUserAttributionDisplayNamesV2";function Hn(e){return(0,je.MW)(e)||(0,je.JF)(e)}function Jn(e){return(0,je.MW)(e)||(0,je.JF)(e)||(0,je.yD)(e)}const Gn=a.memo((function({ariaLabel:e,nrTracks:i,playlistUri:n,playlistName:l,isMixedMedia:s,isLive:d,isBlend:u,isConcert:p,isBooklist:v,canEdit:S,scrollToUid:y,feedbackPath:g,deleteFeedbackPath:N,usePlayContextItem:h,tracklistRef:x,tracklistDomRef:b,canRemove:f,spec:C,initialItems:F,isCompactMode:j=!1,sortableColumns:T}){const D=(0,ve.$P)(),_=(0,r.W6)(Y.X_F),P=(0,a.useContext)(de.ZF),{filter:w}=(0,a.useContext)(A.fo),{sortState:V,setSortState:U}=(0,a.useContext)(I.Gb),M=(0,a.useRef)((()=>{})),[O,B]=(0,a.useState)([]),Z=(0,t.I0)(),W=(0,Fi.v)(),z=(0,a.useCallback)((()=>{x?.current&&x.current.update()}),[x]);(0,de.rZ)(n,z);const K=(0,a.useCallback)(((e,i)=>{U((0,R.VK)(e,V)),D.logInteraction(C.columnHeaderFactory({identifier:e,position:i||0}).hitSort())}),[U,V,D,C]),Q=(0,a.useCallback)((e=>{M.current(),P.remove(n,e)}),[P,n]),H=(0,a.useCallback)(((e,i,n=!1)=>{f&&(M.current=i,e.length>1&&!n?B(e):Q(e))}),[f,Q]);(0,a.useEffect)((()=>{x?.current&&y&&x.current.scrollToItem({uid:y})}),[y,x]);const J=(0,a.useCallback)((async(e,i)=>{const a=await P.getContents(n,{offset:e,limit:i,sort:(0,R._j)(V),filter:w,decorateFormatListData:!!g||d||u});return{items:a.items,totalLength:a.totalLength}}),[n,P,V,w,g,d,u]),G=(0,a.useCallback)(((e,i,a)=>{if(!x?.current)return;const t=x.current.getRows()[i];t&&(D.logInteraction(C.dragSort()),a===Kn.W.Before?P.move(n,e,{before:t}):P.move(n,e,{after:t}))}),[x,D,C,P,n]),q=(0,a.useCallback)(((e,i,a)=>{if(!x?.current)return;const t=x.current.getRows()[i];t&&(D.logInteraction(C.dragAddToPlaylist({playlist:n,itemToBeAdded:e[0]})),a===Kn.W.Before?Z((0,m.jV)(n,e,{before:{uri:t.uri,uid:t.uid}})):Z((0,m.jV)(n,e,{after:{uri:t.uri,uid:t.uid}})))}),[x,D,C,n,Z]),X=(0,a.useCallback)((()=>{P.resync(n)}),[P,n]),$=(0,a.useCallback)(((e,i)=>{let a,t=null;(0,je.JF)(e)?(t=e.show,a=e.images.concat(e.show?.images||[])):(0,je.MW)(e)?(t=e.album,a=e.album?.images):(0,je.yD)(e)&&(a=e.images);const r=(0,Ai.X)(a,{desiredSize:40,desiredLabel:"small"});let d=[];S&&!v&&V.order===Ci.kn.NONE&&(d=[L.a[o.JM.TRACK],L.a[o.JM.LOCAL_TRACK],L.a[o.JM.EPISODE]]);const c="1"===e?.formatListAttributes?.["dislike-feedback-selected"],m=!!(0,je.JF)(e)&&e.podcastSubscription.isUserSubscribed;let y=!1;(0,je.JF)(e)&&e.podcastSubscription.isPaywalled&&!m?y=!0:Hn(e)?y=e.isPlayable&&!c:(0,je.yD)(e)&&(y=!0);let x=!1;(0,je.JF)(e)&&e.podcastSubscription.isPaywalled?x=!0:(0,je.yD)(e)&&(x=e.isLocked&&!e.isOutOfMarket);const b=u&&((e,i)=>{const n=[];if(!i)return n;const a=i[Qn]?Qn:"multiUserAttributionDisplayNames",t=i?.[a]?.split(","),l=i?.multiUserAttributionImages?.split(",");if(!t||!l)return n;const s=i?.multiUserAttributionUsernamesV2?.split(",")||[],r=i?.multiUserAttributionType?.split(",")||[],d=t.length;for(let e=0;e<d;e++){const i=s[e],a=i&&(0,o.QK)(i).toURI();n.push({username:i,uri:a,displayName:t[e],images:(c=l[e],c.length>1?[{url:c}]:[]),recsplanation:r[e]})}var c;return n.sort(((i,n)=>i.username?i.username===e?.username?-1:n.username===e?.username?1:0:0))})(e.addedBy,e?.formatListAttributes)||e.addedBy&&[e.addedBy]||[];let C=0;Hn(e)?C=e.duration.milliseconds:(0,je.yD)(e)&&(C=e.durationMs||0);let F="";return Jn(e)&&(F=e.name),(0,k.jsx)(Ci.dx,{isCompactMode:j,index:i,playIndex:e.playIndex??void 0,contextUri:n,uri:e.uri,uid:e.uid,isPlayable:y,duration_ms:C,isPaywalled:x,isUserSubscribed:m,name:F,artists:(0,je.MW)(e)?e.artists:void 0,albumOrShow:t,isExplicit:(Jn(e)&&e.isExplicit)??!1,hasAssociatedVideo:((0,je.MW)(e)&&e.hasAssociatedVideo&&_)??!1,isMixedMedia:s,isLocal:(0,je.MW)(e)&&e.isLocal,addedBy:b,hasDecoratedAddedBy:P.getCapabilities().canDecorateAddedBy,dateAdded:e.addedAt,release_date:(0,je.JF)(e)&&e.release.date||"",isMOGEFRestricted:((0,je.MW)(e)||(0,je.JF)(e))&&e.is19PlusOnly,type:e.type,imgUrl:r?.url||"",onMove:G,onInsert:q,usePlayContextItem:h,allowedDropTypes:d,feedbackPath:g,feedbackUri:e?.formatListAttributes?.feedback_uri,deleteFeedbackPath:N,isDisliked:c,isBlend:u,ticketingSiteURL:e?.formatListAttributes?.ticketingSite,eventDate:e?.formatListAttributes?.eventDate,canRemove:f,onFeedbackClick:X,playlistName:l,isConcert:p,concertsCount:e.formatListAttributes?.concerts_count,concertURI:e.formatListAttributes?.target_uri,concertDate:e.formatListAttributes?.first_concert_date,concertVenue:e.formatListAttributes?.first_concert_venue,authorName:(0,je.yD)(e)?e.authorName:"",isOutOfMarket:!!(0,je.yD)(e)&&e.isOutOfMarket,consumptionCapExplanation:(0,je.yD)(e)?e.consumptionCapExplanation:void 0,isOwnedBySelf:S},i+e.uri)}),[S,V.order,u,n,s,P,G,q,h,g,N,f,X,l,p,v,j,_]),ee=(0,a.useCallback)((e=>({uri:e.uri,uid:e.uid,type:e.type})),[]),[,ie]=(0,E.d4)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Ti.JL,{value:"playlist-tracklist",children:(0,k.jsx)(Ci.Pv,{isCompactMode:j,testID:"playlist-tracklist",ariaLabel:e,hasHeaderRow:!0,columns:W,sortableColumns:T,sortState:V,onSort:K,onRemove:H,renderRow:$,resolveItem:ee,nrTracks:i,fetchTracks:J,limit:100,canFetchAllTracks:P.getCapabilities().canFetchAllTracks,outerRef:x,outerDomRef:b,tracks:F,isConcertPlaylist:p,onNrValidItemsChange:ie,columnPersistenceKey:"playlist-tracklist"},n)}),(0,k.jsx)(zn.h,{title:c.ag.get("playlist.remove_from_playlist",l),isOpen:O.length>0,tracks:O,onClose:e=>{e.stopPropagation(),B([])},onRemove:Q})]})}));var qn=n(5344),Yn=n(86259),Xn=n(34471),$n=n(14937);const ea={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"audiobookMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"htmlDescriptionPlain"}},{kind:"Field",name:{kind:"Name",value:"authors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"genres"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shortName"}},{kind:"Field",name:{kind:"Name",value:"destinationUri"}},{kind:"Field",name:{kind:"Name",value:"contextualName"}}]}},{kind:"Field",name:{kind:"Name",value:"rating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"averageRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"average"}},{kind:"Field",name:{kind:"Name",value:"showAverage"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"accessInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUserMemberOfAtLeastOneGroup"}},{kind:"Field",name:{kind:"Name",value:"accessExplanation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ConsumptionCappedAccessExplanation"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"actionText"}},{kind:"Field",name:{kind:"Name",value:"ctaUrl"}},{kind:"Field",name:{kind:"Name",value:"dismiss"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"signifier"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}}]}},{kind:"Field",name:{kind:"Name",value:"unlockedBy"}}]}}]}}]},ia={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAudiobooksMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"podcasts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audiobookMetadata"}}]}}]}}]}},...ea.definitions]},na={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Track"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]},aa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryInlineCurationSearchV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"term"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"5"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"term"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2TrackWrapper"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2ArtistWrapper"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albumsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2AlbumWrapper"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2EpisodesWrapper"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResultsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2ArtistWrapper"}},{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2EpisodesWrapper"}},{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2AlbumWrapper"}},{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2TrackWrapper"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2TrackWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Track"}}]}}]}}]}},...na.definitions,{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2ArtistWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Artist"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Artist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2AlbumWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Album"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Album"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2EpisodesWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Episode"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Episode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]},ta={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryInlineCurationSearchV2Booklists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"term"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"5"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"term"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"topResultsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AudiobookResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Audiobook"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"audiobookMetadata"}}]}}]}}]}}]}}]}}]}}]}}]}},...ea.definitions]},la={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryInlineCurationSearchAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationAlbums"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationAlbums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Track"}}]}}]}}]}}]}}]}},...na.definitions]},sa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryInlineCurationSearchArtist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationArtists"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Track"}}]}}]}}]}}]}}]}}]}},...na.definitions]};var ra=n(23570);function da(e){return{type:M.p.AUDIOBOOK,uri:e.uri,name:e.name,description:e.htmlDescriptionPlain??"",authorName:e.authors?.map((e=>e?.name)).join(c.ag.getSeparator())||"",images:e.coverArt?.sources??[],isLocked:(0,ra.P2)(e.accessInfo),isExplicit:e.contentRating?.label===oi.KS.Explicit,durationMs:e.duration?.totalMilliseconds??0,topics:e.genres?.map((e=>({uri:e.destinationUri,title:e.contextualName})))||[],signifierText:e.accessInfo?.signifier?.text??"",rating:{average:e.rating?.averageRating?.average??0,showAverage:!!e.rating?.averageRating?.showAverage},publishDate:null,isOutOfMarket:!1,consumptionCapExplanation:null,uid:"",playIndex:null,addedAt:null,addedBy:null,formatListAttributes:null}}var oa=n(11024),ca=n(54325),ma=n(7511),ua=n(86506);function ka(e){return{type:M.p.ALBUM,uri:e.uri,id:e.id,name:e.name,images:(0,ca.NS)(e.coverArt)}}function pa(e){if("Album"!==e.data.__typename)return null;return ka(e.data)}function va(e){const i=e?.items.filter((e=>"AlbumResponseWrapper"===e.__typename));return(i??[]).map((e=>pa(e))).filter(ma.K)||[]}function Sa(e){if("Artist"!==e.data.__typename)return null;const i=e.data;return{type:M.p.ARTIST,uri:i.uri,id:i.id,name:i.profile.name,images:(0,ca.NS)(i.visuals.avatarImage)}}function ya(e){if("Episode"!==e.data.__typename)return null;const i=e.data,n=i.podcastV2.data;return"Podcast"!==n.__typename?null:{type:M.p.EPISODE,uri:i.uri,id:i.id,name:i.name,images:(0,ca.NS)(i.coverArt),isExplicit:i.contentRating?.label===oa.KS.Explicit,is19PlusOnly:i.contentRating?.label===oa.KS.NineteenPlus,podcast:{id:n.id,uri:n.uri,name:n.name},isPlayable:i.playability.playable}}function ga(e){const i=(0,ca.NS)(e.albumOfTrack?.coverArt||null);return{type:M.p.TRACK,uri:e.uri,id:e.id,name:e.name,album:{name:e.albumOfTrack?.name||"",uri:e.albumOfTrack?.uri||"",imgUrl:i.at(0)?.url||"",id:e.albumOfTrack?.id||""},artists:e.artists.items.map((e=>({id:e.id,name:e.profile.name,uri:e.uri}))),isPlayable:e.playability.playable,isExplicit:e.contentRating?.label===oa.KS.Explicit,is19PlusOnly:e.contentRating?.label===oa.KS.NineteenPlus}}function Na(e){if("Track"!==e.data.__typename)return null;return ga(e.data)}function ha(e){return(e?.itemsV2??[]).map((e=>{const i=(0,ca.U2)(e,"item");switch(i.__typename){case"AlbumResponseWrapper":return pa(i);case"ArtistResponseWrapper":return Sa(i);case"EpisodeResponseWrapper":return ya(i);case"TrackResponseWrapper":return Na(i);default:return(0,ua._)(i),null}})).filter(ma.K)||[]}function xa(e){return(e?.itemsV2??[]).map((e=>{const i=(0,ca.U2)(e,"item");return"AudiobookResponseWrapper"===i.__typename&&"Audiobook"===i.data.__typename?da(i.data):null})).filter(ma.K)||[]}const ba=async(e,i,n,a=0,t=10,l=10)=>{const s={term:i,offset:a,limit:t,numberOfTopResults:l};if(n){const n=await e(ta,s),a=n?.data?.searchV2;return a?(r=i,{albums:[],artists:[],episodes:[],tracks:[],topResults:xa(a.topResultsV2)??[],query:r}):null}var r;const d=await e(aa,s),o=d?.data?.searchV2;return o?function(e,i){return{albums:va(e.albumsV2)??[],artists:(t=e.artists,((t?.items??[]).map((e=>Sa(e))).filter(ma.K)||[])??[]),episodes:(a=e.episodes,((a?.items??[]).map((e=>ya(e))).filter(ma.K)||[])??[]),tracks:(n=e.tracksV2,((n?.items??[]).map((e=>Na(e.item))).filter(ma.K)||[])??[]),topResults:ha(e.topResultsV2)??[],query:i};var n,a,t}(o,i):null},fa=async(e,i,n=50,a=0)=>{const t={uris:[i],limit:n,offset:a},l=await e(la,t),s=l?.data?.albums;return s?function(e){const i=e.at(0);if(!i)return null;switch(i.__typename){case"Album":return{albums:[],artists:[],episodes:[],tracks:i.tracks.items.map((e=>ga(e.track)))||[],topResults:[]};case"GenericError":case"NotFound":return null;default:return(0,ua._)(i),null}}(s):null},Ca=async(e,i,n=50,a=0)=>{const t={uris:[i],limit:n,offset:a},l=await e(sa,t),s=l?.data?.artists;return s?function(e){const i=e.at(0);if(!i)return null;switch(i.__typename){case"Artist":return{albums:i.discography.popularReleasesAlbums.items.map((e=>ka(e)))||[],artists:[],episodes:[],tracks:i.discography.topTracks.items.map((e=>ga(e.track)))||[],topResults:[]};case"GenericError":case"NotFound":return null;default:return(0,ua._)(i),null}}(s):null};var Fa=n(49857),ja=n(5470);const Ta="playlist-inlineSearchBox-filterInputContainer",Ra="playlist-inlineSearchBox-filterInput",Aa="playlist-inlineSearchBox-overlay",Ia="playlist-inlineSearchBox-searchIconContainer",Ea="playlist-inlineSearchBox-searchIcon",Da="playlist-inlineSearchBox-clearButton",_a=a.memo((function({placeholder:e,onChange:i=(()=>{}),onFocus:n=(()=>{})}){const[t,l]=(0,a.useState)(""),r=(0,a.useRef)(null),d=(0,Fa.y1)((e=>{i(e)}),200),o=(0,a.useCallback)((e=>{const i=e.currentTarget.value;l(i),d(i)}),[l,d]),m=(0,a.useCallback)((()=>{r.current&&r.current.focus(),l(""),i("")}),[l,i]),u=(0,a.useCallback)((e=>{"Escape"===e.key&&t&&m()}),[t,m]);return(0,k.jsxs)("div",{className:Ta,role:"search",children:[(0,k.jsx)(s.x,{as:"input",variant:"bodySmall",ref:r,className:Re()(Ra),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:e,onChange:o,onKeyDown:u,onFocus:n,value:t}),(0,k.jsxs)("div",{className:Aa,children:[(0,k.jsx)("span",{className:Ia,children:(0,k.jsx)(ja.j,{size:"small",className:Ea,"aria-hidden":"true"})}),t&&(0,k.jsx)("button",{className:Da,onClick:m,"aria-label":c.ag.get("search.a11y.clear-input"),children:(0,k.jsx)(dn.k,{size:"small"})})]})]})})),Pa=({renderRow:e,searchResults:i,renderSeeAllRow:n,seeAllXList:a})=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Ci.Pv,{ariaLabel:c.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:Ci.hU,nrTracks:i.length,tracks:i,resolveItem:e=>({uri:e.uri}),columns:[Ci.QD.TITLE_AND_ARTIST,Ci.QD.ALBUM,Ci.QD.ADD],testID:"playlist-inline-curation-loaded-results"}),(0,k.jsx)(Ci.Pv,{ariaLabel:c.ag.get("search.title.all"),renderRow:n,rowPlaceholder:Ci.hU,nrTracks:a.length,tracks:a,resolveItem:e=>({uri:e.uri}),columns:[Ci.QD.TITLE_AND_ARTIST,Ci.QD.ALBUM,Ci.QD.ADD],testID:"playlist-inline-curation-see-all-options"})]}),La=({renderRow:e,searchResults:i})=>(0,k.jsx)(Ci.Pv,{ariaLabel:c.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:Ci.hU,nrTracks:i.length,tracks:i,resolveItem:e=>({uri:e.uri}),columns:[Ci.QD.TITLE_AND_ARTIST,Ci.QD.ALBUM,Ci.QD.ADD]}),wa=({renderRow:e,searchResults:i})=>{const n=i.filter((e=>e.type===M.p.TRACK)),a=i.filter((e=>e.type===M.p.ALBUM));return(0,k.jsxs)("div",{children:[(0,k.jsx)(s.x,{as:"p",variant:"bodyMediumBold",className:T.Z.artistResultListTitle,children:c.ag.get("playlist.curation.popular_songs")}),(0,k.jsx)(Ci.Pv,{ariaLabel:c.ag.get("playlist.curation.popular_songs"),renderRow:e,rowPlaceholder:Ci.hU,nrTracks:n.length,tracks:n,resolveItem:e=>({uri:e.uri}),columns:[Ci.QD.TITLE_AND_ARTIST,Ci.QD.ALBUM,Ci.QD.ADD]}),(0,k.jsx)(s.x,{as:"p",variant:"bodyMediumBold",className:T.Z.artistResultListTitle,children:c.ag.get("playlist.curation.albums")}),(0,k.jsx)(Ci.Pv,{ariaLabel:c.ag.get("playlist.curation.albums"),renderRow:e,rowPlaceholder:Ci.hU,nrTracks:a.length,tracks:a,resolveItem:e=>({uri:e.uri}),columns:[Ci.QD.TITLE_AND_ARTIST,Ci.QD.ALBUM,Ci.QD.ADD]})]})},Va=({renderRow:e,searchResults:i})=>(0,k.jsx)(Ci.Pv,{ariaLabel:c.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:Ci.hU,nrTracks:i.length,tracks:i,resolveItem:e=>({uri:e.uri}),columns:[Ci.QD.TITLE_AND_ARTIST,Ci.QD.ALBUM,Ci.QD.ADD]}),Ua=({renderRow:e,searchResults:i})=>(0,k.jsx)(Ci.Pv,{ariaLabel:c.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:Ci.hU,nrTracks:i.length,tracks:i,resolveItem:e=>({uri:e.uri}),columns:[Ci.QD.TITLE_AND_ARTIST,Ci.QD.ALBUM,Ci.QD.ADD]}),Ma=({renderRow:e,searchResults:i})=>(0,k.jsx)(Ci.Pv,{ariaLabel:c.ag.get("search.title.top-results"),renderRow:e,rowPlaceholder:Ci.hU,nrTracks:i.length,tracks:i,resolveItem:e=>({uri:e.uri}),columns:[Ci.QD.TITLE_AND_ARTIST,Ci.QD.ALBUM,Ci.QD.ADD]});var Oa=n(30662);const Ba="G2t3w2AAeb5OXp0_GeWs",Za="saVjTFMyWYUz975_tkQm",Wa="thi8fNCkEhutRkDC90c0",za="pHVlkChuJpEnBQyU3ADv",Ka="ENWs3JxcqtD98_8fbPz2",Qa="L8IUKEJL6JiTyE_qUVCc",Ha="XcyjdXgsNX0DBt72tfiD",Ja="VhJnuS7UcUPfIlzD8dlU",Ga="He29vQ5anFj_bJ5iEaI2",qa=({searchResult:e,index:i,isRTL:n,onClick:a})=>{const t=e.images.at(0)?.url;return(0,k.jsx)(Oa.RX,{className:Ka,rowIndex:i,"aria-selected":!1,children:(0,k.jsxs)("div",{"aria-label":`${c.ag.get("artist-page.tracks.seemore")} ${e.name}`,className:Ga,onClick:a,children:[(0,k.jsxs)(Oa.id,{columnIndex:0,className:Qa,children:[void 0!==t?(0,k.jsx)("img",{className:Wa,src:t,alt:e.name}):null,(0,k.jsxs)("div",{className:Ha,children:[(0,k.jsx)(s.x,{as:"p",className:za,variant:"bodyMedium",children:e.name}),(0,k.jsx)(s.x,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:c.ag.get("album")})]})]}),(0,k.jsx)(Oa.id,{columnIndex:1}),(0,k.jsx)(Oa.id,{columnIndex:2,children:(0,k.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.name}`,className:Ja,onClick:a,children:n?(0,k.jsx)(Yn.e,{}):(0,k.jsx)(qn.V,{})})})]})})};var Ya=n(5777);const Xa=({size:e})=>(0,k.jsx)("div",{className:Za,children:(0,k.jsx)(Ya.a,{size:e})}),$a=({searchResult:e,index:i,isRTL:n,onClick:a})=>{const t=e.images.at(0)?.url;return(0,k.jsx)(Oa.RX,{className:Ka,rowIndex:i,"aria-selected":!1,children:(0,k.jsxs)("div",{"aria-label":`${c.ag.get("artist-page.tracks.seemore")} ${e.name}`,className:Ga,onClick:a,"data-testid":"playlist-inline-curation-artist",children:[(0,k.jsxs)(Oa.id,{columnIndex:0,className:Qa,children:[void 0!==t?(0,k.jsx)("img",{className:Ba,src:t,alt:e.name}):(0,k.jsx)(Xa,{size:"small"}),(0,k.jsxs)("div",{className:Ha,children:[(0,k.jsx)(s.x,{as:"p",className:za,variant:"bodyMedium",children:e.name}),(0,k.jsx)(s.x,{as:"p",variant:"bodySmall",semanticColor:"textSubdued",children:c.ag.get("artist")})]})]}),(0,k.jsx)(Oa.id,{columnIndex:1}),(0,k.jsx)(Oa.id,{columnIndex:2,children:(0,k.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":`See more from ${e.name}`,className:Ja,onClick:a,children:n?(0,k.jsx)(Yn.e,{}):(0,k.jsx)(qn.V,{})})})]})})},et=({episode:e,contextUri:i,index:n,usePlayContextItem:a})=>(0,k.jsx)(Ci.YK,{uid:e.id,uri:e.uri,isPlayable:e.isPlayable,isMOGEFRestricted:e.is19PlusOnly,isExplicit:e.isExplicit,contextUri:i,name:e.name,imgUrl:e.images.at(0)?.url??"",index:n,podcast:e.podcast,usePlayContextItem:a}),it=({label:e,index:i,isRTL:n,onClick:a})=>(0,k.jsx)(Oa.RX,{className:Ka,rowIndex:i,"aria-selected":!1,children:(0,k.jsxs)("div",{"aria-label":e,className:Ga,onClick:a,children:[(0,k.jsx)(Oa.id,{columnIndex:0,className:Qa,children:(0,k.jsx)(s.x,{as:"p",className:za,variant:"bodyMedium",children:e})}),(0,k.jsx)(Oa.id,{columnIndex:1}),(0,k.jsx)(Oa.id,{columnIndex:2,children:(0,k.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":e,className:Ja,onClick:a,children:n?(0,k.jsx)(Yn.e,{}):(0,k.jsx)(qn.V,{})})})]})}),nt=({track:e,contextUri:i,index:n,usePlayContextItem:a})=>(0,k.jsx)(Ci.cp,{uid:e.id,uri:e.uri,isPlayable:e.isPlayable,isMOGEFRestricted:e.is19PlusOnly,isExplicit:e.isExplicit,contextUri:i,name:e.name,imgUrl:e.album.imgUrl,index:n,album:e.album,artists:e.artists,usePlayContextItem:a});let at=function(e){return e[e.SEARCH=0]="SEARCH",e[e.ALBUM=1]="ALBUM",e[e.ARTIST=2]="ARTIST",e[e.PODCAST=3]="PODCAST",e[e.PLAYLIST=4]="PLAYLIST",e[e.ALBUMRESULTS=5]="ALBUMRESULTS",e[e.ARTISTRESULTS=6]="ARTISTRESULTS",e[e.PODCASTRESULTS=7]="PODCASTRESULTS",e[e.EPISODERESULTS=8]="EPISODERESULTS",e[e.TRACKRESULTS=9]="TRACKRESULTS",e}({});const tt=(e,i)=>"GO_BACK"===i.type?1===e.breadcrumbs.length?e:e={...e,breadcrumbs:e.breadcrumbs.slice(0,e.breadcrumbs.length-1)}:"NAV_TO_ENTITY"===i.type?e={...e,breadcrumbs:[...e.breadcrumbs,i.level]}:("NAV_TO_RESULTS"===i.type?e={...e,breadcrumbs:[...e.breadcrumbs,i.level]}:"CHANGE_TERM"===i.type&&(e={term:i.term,breadcrumbs:[{navType:at.SEARCH,term:i.term,title:""}]}),e),lt=({resultList:e,level:i,isRTL:n,playlistUri:t,navToResults:l,navToEntity:r,term:d,isBooklist:m})=>{let u=e;const p=(e=>e.map((e=>{if(e.type===M.p.TRACK||e.type===M.p.EPISODE){const{uri:i,id:n}=e;return{type:(0,o.wj)(i)?M.p.TRACK:M.p.EPISODE,uri:i,uid:n,provider:null}}return null})).filter(ma.K))(e),{usePlayContextItem:v}=(0,re.n)({uri:`${t.replace("spotify:","spotify:internal:recs:")}:${encodeURIComponent(d)}:${i?.navType??0}`,pages:[{items:p}]},{featureIdentifier:"search"}),S=(0,a.useCallback)(((e,i)=>(0,k.jsx)(it,{isRTL:n,index:i,label:e.label,onClick:()=>{l({navType:e.type,term:d,title:e.label})}},e.uri)),[n,l,d]),y=(0,a.useCallback)(((e,i)=>e.type===M.p.ARTIST?(0,k.jsx)($a,{isRTL:n,index:i,searchResult:e,onClick:()=>{r({navType:at.ARTIST,uri:e.uri,title:e.name})}},e.uri):e.type===M.p.EPISODE?(0,k.jsx)(et,{index:i,episode:e,contextUri:t.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:v},e.uri):e.type===M.p.TRACK?(0,k.jsx)(nt,{index:i,track:e,contextUri:t.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:v},e.uri):e.type===M.p.ALBUM?(0,k.jsx)(qa,{index:i,isRTL:n,searchResult:e,onClick:()=>{r({navType:at.ALBUM,uri:e.uri,title:e.name})}},e.uri):(0,k.jsx)(xi,{item:e,contextUri:t,isRecommendation:!0},e.uri)),[n,r,t,v]);if(""===d)return(0,k.jsx)("div",{className:T.Z.emptySearchTermContainer});if(!e||0===e?.length)return(0,k.jsxs)("div",{className:T.Z.emptyStateContainer,children:[(0,k.jsx)(s.x,{as:"h1",variant:"titleSmall",children:c.ag.get("search.empty-results-title",d)}),(0,k.jsx)(s.x,{as:"p",variant:"bodySmall",children:c.ag.get("search.empty-results-text")})]});if(i?.navType===at.SEARCH){const i=[{type:at.ARTISTRESULTS,label:c.ag.get("playlist.curation.see_all_artists"),uri:"spotify:internal:recs:see-all-artists"},{type:at.ALBUMRESULTS,label:c.ag.get("playlist.curation.see_all_album"),uri:"spotify:internal:recs:see-all-albums"},{type:at.TRACKRESULTS,label:c.ag.get("playlist.curation.see_all_songs"),uri:"spotify:internal:recs:see-all-songs"}];return u=e,m?(0,k.jsx)(k.Fragment,{children:u.map(((e,i)=>e&&e.type===M.p.AUDIOBOOK?(0,k.jsx)(xi,{contextUri:t,item:e,isRecommendation:!0},i):null))}):(0,k.jsx)(Pa,{renderRow:y,searchResults:u,renderSeeAllRow:S,seeAllXList:i})}return i?.navType===at.ALBUM?(0,k.jsx)(La,{renderRow:y,searchResults:u}):i?.navType===at.ARTIST?(0,k.jsx)(wa,{renderRow:y,searchResults:u}):i?.navType===at.ALBUMRESULTS?(0,k.jsx)(Va,{renderRow:y,searchResults:u}):i?.navType===at.TRACKRESULTS?(0,k.jsx)(Ua,{renderRow:y,searchResults:u}):i?.navType===at.ARTISTRESULTS?(0,k.jsx)(Ma,{renderRow:y,searchResults:u}):null},st=({playlistUri:e,onCurationModeChange:i,isBooklist:n})=>{const[t,l]=(0,a.useState)([]),[r,d]=(0,a.useState)(),o=(0,Xn.S)(),{level:m,changeTerm:u,goBack:p,navToEntity:v,navToResults:S,term:y}=(()=>{const[e,i]=(0,a.useReducer)(tt,{term:"",breadcrumbs:[]}),{breadcrumbs:n,term:t}=e;return{changeTerm:e=>{i({type:"CHANGE_TERM",term:e})},level:n[n.length-1]||null,goBack:()=>{i({type:"GO_BACK"})},navToEntity:e=>{i({type:"NAV_TO_ENTITY",level:e})},navToResults:e=>{i({type:"NAV_TO_RESULTS",level:e})},term:t}})(),{request:g}=(0,a.useContext)($n.Ax);return(0,a.useEffect)((()=>{let e=!0;return(async()=>{if(m)switch(m.navType){case at.SEARCH:try{if(!r||r.query!==y&&""!==y){const i=await ba(g,y,n);e&&d(i)}else""===y&&l([])}catch{l([])}r&&l(r.topResults);break;case at.ARTISTRESULTS:r&&l(r?.artists);break;case at.ALBUMRESULTS:r&&l(r?.albums);break;case at.TRACKRESULTS:r&&l(r?.tracks);break;case at.EPISODERESULTS:r&&l(r?.episodes);break;case at.ALBUM:try{const i=await fa(g,m.uri,100,0);e&&i&&l(i.tracks)}catch{l([])}break;case at.ARTIST:try{const i=await Ca(g,m.uri,100,0);e&&i&&l([...i.albums,...i.tracks])}catch{l([])}}})(),()=>{e=!1}}),[m,y,r,g,n]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("section",{className:T.Z.playlistInlineCurationSection,children:[(0,k.jsxs)("div",{className:T.Z.playlistInlineCurationWrapper,children:[(0,k.jsx)(s.x,{as:"h1",className:T.Z.playlistInlineCurationTitle,variant:"titleSmall",children:c.ag.get("playlist.curation.title")}),(0,k.jsx)(a.Suspense,{fallback:null,children:(0,k.jsx)(_a,{placeholder:c.ag.get("playlist.curation.search_placeholder"),onFocus:()=>{i(!0)},onChange:e=>{u(e)}})})]}),(0,k.jsx)("button",{className:T.Z.playlistInlineCurationCloseButton,onClick:()=>i(!1),children:(0,k.jsx)(dn.k,{"aria-label":c.ag.get("close")})})]}),null!==m&&m.navType!==at.SEARCH?(0,k.jsxs)("button",{className:T.Z.playlistInlineCurationBackButton,onClick:()=>p(),children:[o?(0,k.jsx)(qn.V,{"aria-label":c.ag.get("navbar.go-back"),className:T.Z.icon}):(0,k.jsx)(Yn.e,{"aria-label":c.ag.get("navbar.go-back"),className:T.Z.icon}),(0,k.jsx)(s.x,{as:"p",variant:"bodyMediumBold",children:m.title})]}):null,(0,k.jsx)("div",{className:T.Z.searchResultListContainer,"data-testid":"playlist-inline-curation-results",children:(0,k.jsx)(lt,{playlistUri:e,term:y,level:m,resultList:t,navToEntity:v,navToResults:S,isRTL:o,isBooklist:n})})]})};var rt=n(20187),dt=(n(56321),n(88993)),ot=n(61191),ct=n(15610),mt=n(20460);const ut=3e5;function kt(e){return["list-extender",e]}const pt=(e,i=10,n)=>{const t=2*i,l=3*i,s=(0,li.useQueryClient)(),r=(0,a.useRef)(0),[o,c]=(0,a.useState)(e),[m,u]=(0,a.useState)((()=>s.getQueryData(kt(e),{stale:!1})??[])),k=(0,a.useRef)(m.map((e=>e.uri??""))),{spec:p,logger:v}=(0,ve.fU)(d.T,{data:{uri:e}}),S=(0,a.useMemo)((()=>p.recommendedFactory()),[p]);(0,mt.F)(ct.XL.OPERATION_COMPLETE,(({data:i})=>{i.uri===e&&(i.operation===ct.If.ADD?u((e=>e.filter((e=>i.uris.every((i=>i!==e.uri)))))):i.operation===ct.If.REMOVE&&u((e=>e.filter((e=>i.items.every((i=>i.uri!==e.uri)))))),i.operation!==ct.If.ADD&&i.operation!==ct.If.REMOVE||s.invalidateQueries(kt(e)))}));const y=(0,a.useRef)(!0);(0,a.useEffect)((()=>(y.current||(u([]),c(e),k.current=[],r.current=r.current+1),y.current=!0,()=>{r.current=r.current+1})),[e]),(0,a.useEffect)((()=>{if(m.length<t){const e=Math.min(t,l-m.length),i=r.current,a=kt(o),d=y.current&&0===k.current.length;(d?s.fetchQuery({queryKey:a,queryFn:()=>n(o,[],e),staleTime:ut,cacheTime:ut}):n(o,k.current,e)).then((n=>{if(i!==r.current||!n)return;const t=n.map((e=>e?.uri&&e.uri)).filter((e=>null!==e));n.length<e&&k.current.length?k.current=[]:k.current=[...k.current,...t],u((e=>[...e,...n])),d&&s.setQueryData(a,n)}))}y.current=!1}),[t,l,o,m.length,s,n]);const g=(0,a.useCallback)((()=>{if(p){const e=S.refreshButtonFactory().hitRefreshContent();v.logInteraction(e)}u((e=>e.slice(i)))}),[v,S,p,i]);return{recommendations:m.slice(0,i),_bufferedRecommendations:m.slice(i),refresh:g}},vt=a.memo((function({uri:e}){const{recommendations:i,refresh:n}=((e,i=10)=>{const n=(0,a.useContext)(dt.Z),{request:t}=(0,a.useContext)($n.Ax),l=(0,a.useCallback)((async(e,i,a)=>{const l=await n.getRecommendedBookUris(e,i,a),s=await t(ia,{uris:l});return s?.data?.podcasts.map((e=>"Audiobook"===e.__typename?da(e):null)).filter(ma.K)??[]}),[n,t]);return pt(e,i,l)})(e),t=(0,rt.s)();return t?i?.length&&i.length>0?(0,k.jsxs)("div",{className:T.Z.recommendedTrackList,children:[(0,k.jsx)("div",{className:T.Z.top,children:(0,k.jsxs)("div",{className:T.Z.header,children:[(0,k.jsx)(s.x,{variant:"titleSmall",children:c.ag.get("playlist.extender.recommended.title")}),(0,k.jsx)(s.x,{variant:"bodySmall",className:T.Z.subtitle,children:c.ag.get("playlist.extender.songs.in.playlist")})]})}),t&&(0,k.jsxs)(k.Fragment,{children:[i.map(((i,n)=>i?(0,k.jsx)(xi,{contextUri:e,item:i,isRecommendation:!0},n):null)),(0,k.jsx)(Zi.o,{className:T.Z.refreshButton,onClick:n,children:c.ag.get("playlist.extender.refresh")})]})]}):null:(0,k.jsx)("div",{className:T.Z.recommendedTrackList,children:(0,k.jsx)("div",{className:T.Z.top,children:(0,k.jsxs)("div",{className:T.Z.header,children:[(0,k.jsx)(s.x,{variant:"titleSmall",children:c.ag.get("playlist.extender.recommended.title")}),(0,k.jsx)(s.x,{variant:"bodySmall",className:T.Z.subtitle,children:c.ag.get("web-player.playlist.recommender-dsa-message")})]})})})})),St=a.memo((function({playlistUri:e,canEdit:i,tracks:n}){const{usePlayContextItem:t}=(0,re.n)({uri:e.replace("spotify:","spotify:internal:recs:"),pages:[{items:n.map((e=>({...e,provider:null,type:M.p.TRACK,uid:null})))}]},{featureIdentifier:"playlist_recommendations"}),l=(0,a.useCallback)(((n,a)=>{const l=n.duration;return(0,k.jsx)(Ci.cp,{index:a,imgUrl:n.album.imageUrl,contextUri:e.replace("spotify","spotify:internal:recs"),uri:n.uri,isPlayable:!n.isMOGEFRestricted,name:n.name,artists:n.artists,album:{...n.album,imgUrl:n.album.imageUrl},isExplicit:n.explicit,isMOGEFRestricted:n.isMOGEFRestricted,usePlayContextItem:t,durationMs:l,shouldRenderDuration:!i,internalLink:!0},`${a}-${n.uri}`)}),[e,t,i]),s=(0,a.useMemo)((()=>[Ci.QD.TITLE_AND_ARTIST,Ci.QD.ALBUM,Ci.QD.ADDED_AT,Ci.QD.ADD]),[]),r=(0,a.useCallback)((e=>({uri:e.uri,uid:e.id})),[]),d=(0,a.useMemo)((()=>n.slice(0,Math.min(n.length,10))),[n]);return(0,k.jsx)(Ci.Pv,{ariaLabel:c.ag.get("playlist.extender.recommended.header"),nrTracks:Math.min(n.length,10),rowPlaceholder:Ci.hU,tracks:d,renderRow:l,resolveItem:r,columns:s},`${e}-recommended`)})),yt=a.memo((function({playlistUri:e,playlistLength:i,canEdit:n}){const{recommendations:t,refresh:l}=((e,i=10)=>{const n=(0,a.useContext)(dt.Z),t=(0,a.useCallback)((async(e,i,a)=>{const t=i.map((e=>ot.o.from(e).id??""));return n.getRecommendedTracks(e,t,a)}),[n]);return pt(e,i,t)})(e),r=!i||0===i,d=(0,rt.s)(),o=`${e}|${m=t,m?m.map((e=>e.uri)):[]}`;var m;ee({context:o,shouldFire:!!t.length});const u=r?c.ag.get("playlist.extender.title.in.playlist"):c.ag.get("playlist.extender.songs.in.playlist");return d?t.length>0?(0,k.jsxs)("div",{className:T.Z.recommendedTrackList,children:[(0,k.jsx)("div",{className:T.Z.top,children:(0,k.jsxs)("div",{className:T.Z.header,children:[(0,k.jsx)(s.x,{variant:"titleSmall",children:c.ag.get("playlist.extender.recommended.title")}),(0,k.jsx)(s.x,{variant:"bodySmall",className:T.Z.subtitle,children:u})]})}),d&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(St,{playlistUri:e,canEdit:n,tracks:t}),(0,k.jsx)(Zi.o,{className:T.Z.refreshButton,onClick:l,children:c.ag.get("playlist.extender.refresh")})]})]}):null:(0,k.jsx)("div",{className:T.Z.recommendedTrackList,children:(0,k.jsx)("div",{className:T.Z.top,children:(0,k.jsxs)("div",{className:T.Z.header,children:[(0,k.jsx)(s.x,{variant:"titleSmall",children:c.ag.get("playlist.extender.recommended.title")}),(0,k.jsx)(s.x,{variant:"bodySmall",className:T.Z.subtitle,children:c.ag.get("web-player.playlist.recommender-dsa-message")})]})})})})),gt=a.lazy((()=>n.e(7427).then(n.bind(n,8757)))),Nt=a.lazy((()=>Promise.resolve().then(n.bind(n,56790)))),ht=a.lazy((()=>n.e(1021).then(n.bind(n,97834)))),xt=a.lazy((()=>n.e(5457).then(n.bind(n,37263)))),bt=new Set([]),ft=a.memo((function({playlist:e,capabilities:i}){const{metadata:{uri:n,name:u,images:p,totalLength:v,unfilteredTotalLength:S,isOwnedBySelf:h,hasEpisodes:x,canAdd:b,canRemove:f,formatListData:C,hasDateAdded:F,collaborators:j,isPublished:U,hasSpotifyAudiobooks:M},contents:{items:O}}=e,{spec:K,logger:Q,UBIFragment:H}=(0,ve.fU)(d.T,{data:{uri:n}}),J=(0,z.k)(),G=(0,r.W6)(Se.OC,{loadingValue:!1}),q=(0,r.W6)(Se.MF,{loadingValue:!1}),{isCompactMode:X}=(0,P.mJ)(),le=a.useMemo((()=>K.headerFactory()),[K]),ue=a.useMemo((()=>K.tracklistFactory()),[K]),he=a.useMemo((()=>K.actionBarFactory()),[K]),xe="chart"===C?.type,be="concerts-near-you"===C?.type&&G,fe="live-streams"===C?.type,Ce=["blend","celebrity-blend","friends-mix"].indexOf(C?.type||"")>-1,Fe=!!x,je=M||!1,Te="artistsets"===C?.type||"this-is"===C?.attributes["editorial.series"],Re=C?.attributes||{},Ae=Re.header_image_url_desktop||Re.image_url||null,Ie=b&&f,{inlineCurationModeIsOn:Ee,handleInlineCurationModeChange:De}=((e,i)=>{const[n,t]=(0,a.useState)(e&&0===i),{scrollNodeChildRef:l}=(0,a.useContext)(te.VX),s=(0,a.useRef)(n);return(0,a.useEffect)((()=>{const e=!s.current;l&&e&&n&&l.current?.scrollIntoView({block:"end",behavior:"smooth"}),s.current=n}),[l,n]),{inlineCurationModeIsOn:n,handleInlineCurationModeChange:e=>{t(e)}}})(Ie&&(!je||q),S),{productState:_e}=(0,t.v9)($.Gg),Pe=!!_e&&parseInt(_e.ads,10)>0,Le="spotify"===e.metadata.owner.username,we=(0,t.I0)(),Ve=(0,l.ur)(),Ue=(0,l.TH)(),Me=(0,r.W6)(Y.XPU,{loadingValue:!1}),Oe=(0,r.W6)(Y.wAP,{loadingValue:!1}),Be=(0,r.W6)(Y.bys,{loadingValue:!1}),Ze=(0,_.useThisisPlaylistExtensionQuery)({uri:n},{cacheTime:5*se.y,enabled:Te}).data?.playlistV2,We="Playlist"===Ze?.__typename?Ze.artistsOnTour?.[0]:null,ze=Be&&"Playlist"===Ze?.__typename?Ze.concerts?.items.map((e=>e.data)):null,Ke=ze?.flatMap((e=>"ConcertV2"===e.__typename?[e]:[])).map((e=>{const i=[e.location.name,e.location.city].join(c.ag.getSeparator()),n=e.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[]));return{venue:i,title:e.title,uri:e.uri,startDate:e.startDateIsoString,imageUrl:n[0]?.visuals.avatarImage?.sources[0]?.url}})),Qe="POP"!==Ve?new URLSearchParams(Ue.search).get("uid"):null,He=(0,W.o)(),{filter:Je}=(0,a.useContext)(A.fo),{sortState:Ge}=(0,a.useContext)(I.Gb),qe=(0,a.useContext)(de.ZF),Ye=(0,a.useRef)(null),Xe=(0,a.useRef)(null),[$e]=p,ei=(0,ie.Z)(null!==Ae?Ae:$e?.url||null),{isPlaying:ii,isActive:ni,togglePlay:ai,usePlayContextItem:ti}=(0,re.n)(function(e,i,n){const a={uri:e};return(0,oe.R)(a,i),(0,ce.I)(a,(0,me.cj)(n)),a}(n,(0,R._j)(Ge),Je),{featureIdentifier:"playlist"}),li=(0,a.useCallback)((()=>{const e=(0,ae.aK)({isPlaying:ii,isActive:ni,spec:he.playButtonFactory(),logger:Q,uri:n});ai({loggingParams:e})}),[ii,ni,ai,he,Q,n]),si=(0,a.useCallback)((e=>{const i=e.split(/[\r\n]+/g).map((e=>(0,o.EC)(e))).filter((e=>null!==e&&((0,o.wj)(e)||(0,o.hn)(e)||(0,o.dB)(e))));if(i.length>0&&b){const e=i.map((e=>e.toURI())),a=Ye.current?.getSelected()?.slice(-1)?.[0],t={after:a??"end"};we((0,m.jV)(n,e,t))}}),[b,we,n]);(0,ne.aw)(si);const ri=(0,a.useCallback)(((e,i)=>{const a=[...i[L.a[o.JM.TRACK]]||[],...i[L.a[o.JM.LOCAL_TRACK]]||[],...i[L.a[o.JM.EPISODE]]||[],...i[L.a[o.JM.ALBUM]]||[]];a.length>0&&b&&(Q.logInteraction(K.dragAddToPlaylist({playlist:n,itemToBeAdded:a[0]})),we((0,m.jV)(n,a)),He({targetUri:n,intent:"add",type:"drop"}))}),[b,Q,K,n,we,He]),di=(0,ke.vI)(ye.k.RichPlaylistPages,Ue),oi=(0,o.EC)(n)?.id;(e=>{const i=(0,t.I0)(),n=(0,w.E)(),l=(0,t.v9)(B);(0,a.useEffect)((()=>{n&&e!==l&&i((0,V.jZ)(e))}),[e,l,i,n])})(n);const ci=(0,t.v9)(Z),mi=(({treatment:e,entityId:i,experimentId:n,treatmentVariation:a})=>{if(e&&e[i]){const t=e[i].find((e=>e.experimentId===n));return t?.treatment===a}return!1})({treatment:ci||{},entityId:oi||"",experimentId:ge.RPP,treatmentVariation:Ne.VARIANT});const ui=!Le&&(di||mi)&&0!==S,ki=!je&&J&&(Ie&&!Ee||ui),pi=je&&q&&J&&(Ie&&!Ee||ui),vi=(!je||q)&&h&&J;ee({context:n,shouldFire:!ki});const Si=j?.count??1,[yi]=(0,E.d4)(),gi="plays"===Re.rank_type,Ni=(0,a.useMemo)((()=>(0,R.RG)({isMixedMedia:Fe,hasDateAdded:F,isLive:fe,isConcert:be,isBlend:Ce,nrCollaborators:Si,isBooklist:je,isCompactMode:X,isChart:xe,showPlayCount:gi})),[Fe,F,fe,be,Ce,Si,je,X,xe,gi]),hi=(0,a.useMemo)((()=>{let e;return e=qe.getCapabilities().canSort?je?new Set(I.i1):new Set((0,R.yj)(Ni)):bt,e}),[Ni,je,qe]),xi=(0,r.W6)(Y.OBF)&&je;return(0,k.jsxs)(a.Suspense,{fallback:null,children:[(0,k.jsx)(N.$,{children:(0,pe.T5)({playlistName:u,userName:e.metadata.owner.displayName||"",isSpotifyOwned:Le})}),(0,k.jsx)(g.Z,{types:b&&!je?[L.a[o.JM.TRACK],L.a[o.JM.LOCAL_TRACK],L.a[o.JM.EPISODE],L.a[o.JM.ALBUM]]:[],onDrop:ri,children:(0,k.jsxs)("section",{role:"presentation",className:T.Z.playlist,"data-testid":"playlist-page","data-test-uri":n,children:[(0,k.jsx)(Wn.s,{metadata:e.metadata,isPlaying:ii,isPublished:U,totalItems:yi,togglePlay:li,backgroundColor:ei,spec:le}),(0,k.jsxs)("div",{className:T.Z.playlistContent,children:[(0,k.jsx)(Mn,{playlist:e,capabilities:i,spec:he,isPlaying:ii,isActive:ni,togglePlay:li,isBooklist:je,backgroundColor:ei,tracklistDomRef:Xe,isConcert:be,sortableColumns:hi}),(0,k.jsx)(a.Suspense,{fallback:null,children:(0,k.jsx)(gt,{formatListData:e.metadata.formatListData})}),!Be&&We?.upcomingEventsCount?(0,k.jsx)(Nt,{artistConcertsUri:We.uri||"",artistImageUrl:We.imageUrl||"",artistName:We.title||"",spec:K}):null,Be&&!!We&&Ke&&Ke.length>0&&(0,k.jsx)(a.Suspense,{fallback:null,children:(0,k.jsx)(ht,{liveEvents:Ke,artistConcertsUri:We.uri||"",artistName:We.title||"",spec:K})}),(0,k.jsxs)("div",{className:"contentSpacing",children:[Pe?(0,k.jsx)(y,{playlistUri:n}):null,Me&&Pe&&Le?(0,k.jsx)(xt,{uri:n,playlistName:u}):null,e.metadata.hasSpotifyAudiobooks&&Oe&&(0,k.jsxs)("div",{className:T.Z.noBooklistSupportContainer,children:[(0,k.jsx)(s.x,{variant:"bodyMediumBold",semanticColor:"textBase",children:c.ag.get("web-player.playlist.booklist-not-supported-title")}),(0,k.jsx)(s.x,{variant:"bodyMedium",semanticColor:"textSubdued",children:c.ag.get("web-player.playlist.booklist-not-supported.message")})]}),v>0&&(0,k.jsx)(a.Suspense,{fallback:null,children:xi?(0,k.jsx)(fi,{initialItems:O,contextUri:n,nrItems:v,canEdit:Ie,canRemove:f}):(0,k.jsx)(H,{spec:ue,children:(0,k.jsx)(D.a,{columns:Ni,children:xe?(0,k.jsx)(Ei,{ariaLabel:u,nrTracks:v,playlistUri:n,scrollToUid:Qe,usePlayContextItem:ti,tracklistDomRef:Xe,sortableColumns:hi,isCompactMode:X},n):(0,k.jsx)(Gn,{ariaLabel:u,nrTracks:v,playlistUri:n,playlistName:u,isMixedMedia:Fe,isLive:fe,isConcert:be,isBlend:Ce,isBooklist:je,canEdit:Ie,scrollToUid:Qe,feedbackPath:Re["dislike-endpoint"],deleteFeedbackPath:Re["delete-endpoint"],usePlayContextItem:ti,tracklistRef:Ye,tracklistDomRef:Xe,canRemove:f,spec:ue,initialItems:O,isCompactMode:X,sortableColumns:hi},n)})})}),vi&&(0,k.jsx)(a.Suspense,{fallback:null,children:Ee?(0,k.jsx)(st,{playlistUri:n,onCurationModeChange:De,isBooklist:je}):(0,k.jsx)("button",{className:T.Z.seeMore,onClick:()=>{De(!0)},children:(0,k.jsx)(s.x,{as:"div",variant:"bodySmallBold",children:c.ag.get("playlist.curation.find_more")})})}),ki?(0,k.jsx)("div",{"data-testid":"recommended-track",children:(0,k.jsx)(yt,{playlistUri:n,playlistLength:e.metadata.unfilteredTotalLength,canEdit:Ie})}):null,pi?(0,k.jsx)(vt,{uri:n}):null]})]}),be&&(0,k.jsx)(Zn,{spec:K.footerSectionFactory()})]})})]})})),Ct=a.memo((function({uri:e}){const i=(0,a.useContext)(de.ZF).getCapabilities(),{filter:n}=(0,a.useContext)(A.fo),{sortState:t}=(0,a.useContext)(I.Gb),{metadataOptions:l,contentsOptions:s}=(0,bi.d)(t,n),{data:r,isLoading:d,isError:o}=(0,ue.Z)(e,l,s);return!r||d?(0,k.jsx)(j.h,{hasError:o,errorMessage:c.ag.get("error.not_found.title.playlist"),loadOffline:i.canModifyOffline}):r.metadata.permissions&&!r.metadata.permissions.canView?(0,k.jsx)(F,{uri:e}):(0,k.jsx)(ft,{playlist:r,capabilities:i})})),Ft=()=>{const{playlistId:e}=(0,l.UO)(),i=(0,o.FW)((e||"").split("&")[0]).toURI();return(0,k.jsx)(le.fd,{surface:le.Tg.PLAYLIST,uris:[i],children:(0,k.jsx)(I.kz,{uri:i,children:(0,k.jsx)(A.hz,{uri:i,children:(0,k.jsx)(E.Y4,{children:(0,k.jsx)(Ct,{uri:i})})})})})}},19916:(e,i,n)=>{n.d(i,{vI:()=>a});n(55330);const a=(e,i)=>{const n=i?new URLSearchParams(i.search):void 0;return"1"===n?.get(e)}},57409:(e,i,n)=>{n.d(i,{k:()=>a});let a=function(e){return e.I18nSEO="i18nSEO",e.RTPTrackCredits="rtpv2p2",e.I18nAdditionalPages="i18nap",e.RichPlaylistPages="rpp",e.LFC="lfc",e.ILRAlbum="ilra",e.ILRAlbumAbove="ilraa",e.ILRAlbumBelow="ilrab",e}({})},1054:(e,i,n)=>{n.d(i,{Z:()=>a});const a={cards:"TGW6mpr34dHAhhFh0pfw",tourCard:"pQmF4tvRpUeLWgPKUcW7",cardImage:"mGY3ER0iIvb1NbJ1d7X4",cardContent:"JHz_5gqDYpq9Lw3pIac_",subtitle:"oTFzEDWGQSLME1nHjJrt",title:"HPCUzqQRn7oae4vJa3y9",venue:"YxZlxyNx0MHxSVO51TVQ",cardLink:"_B5m05rOGq0BKdTa7al5",cardButton:"StPcf0AvSM0c18nwF4hJ",eventCard:"KhaSITGJnz5MH4qDsYkK",interestedIcon:"ERx0RCdRdFFmYdmZR1P5",concertsCarousel:"nX5e9EyU1GmU42OFVHwH",carouselContent:"MIgjuGue6dRaJWwfUX0K",allEventsCard:"C5dyMaEg91RyIp9YajnW",concertsCarouselControls:"himyaJTaj2PpeC7nuAH5",carouselControlPrev:"KfXbOs2l5lLjtz9R4DiW",carouselControlNext:"yy5akXrxTifXTssHWubJ"}}}]);
//# sourceMappingURL=xpui-routes-playlist.js.map