"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9319],{78852:(e,t,s)=>{s.d(t,{G:()=>n});var a=s(79474),i=s(13274);const n=e=>(0,i.jsx)(a.Suspense,{fallback:null,children:(0,a.createElement)((0,a.lazy)((async()=>{const{FeatureActivationSection:e}=await Promise.all([s.e(4151),s.e(3417)]).then(s.bind(s,39606));return{default:e}})),e)})},16254:(e,t,s)=>{s.r(t),s.d(t,{SKELETON_CARDS_COUNT:()=>Je,SKELETON_SHELVES_COUNT:()=>ze,default:()=>Ye});s(1137);var a=s(79474),i=s(97500),n=s.n(i),r=s(85980),o=s(61343),c=s(94080),l=s(96416),d=s(89551),m=s(19935),p=s(81902),u=s(81891),h=s(63006),x=s(66789),g=s(45504),y=s(30020),j=s(43083),f=s(52745),v=s(45402),b=s(70388),S=s(15581),C=s(76839),w=s(60327),D=s(89909),N=s(12282),k=s(18331),_=s(70067),A=s(88320),I=s(2318),R=s(31912),E=s(40537);const M="AaXwi9LLckdsxNwrosnQ",F="yX31EzBkHzNooefkSvT3",L="EjJHF7tjFYigQK8pIVbV",H="Z5xLXZofWXGooKRjW6kd",T="kM546dTx5cxDNH530zm8",P="mnhJCpUiriAb7Ay3HOTz",$="rRldspwHsrgo8DsecR2Q";var V=s(13274);const W=({isMWP:e})=>(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${H} ${T}`,"aria-hidden":"true",children:[(0,V.jsx)("source",{src:(0,A.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,V.jsx)("source",{src:(0,A.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Left.mp4`),type:"video/mp4"})]}),(0,V.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,disablePictureInPicture:!0,className:`${H} ${P}`,"aria-hidden":"true",children:[(0,V.jsx)("source",{src:(0,A.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.webm`),type:"video/webm; codecs=vp09.01.41.08"}),(0,V.jsx)("source",{src:(0,A.b)(`videos/Sw23-${e?"Mobile":"Desktop"}-Right.mp4`),type:"video/mp4"})]})]}),O=({isMWP:e})=>(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("picture",{children:[(0,V.jsx)("source",{srcSet:(0,A.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.webp`),type:"image/webp"}),(0,V.jsx)("source",{srcSet:(0,A.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Left.png`),type:"image/png"}),(0,V.jsx)("img",{className:`${H} ${T}`,src:"",alt:""})]}),(0,V.jsxs)("picture",{children:[(0,V.jsx)("source",{srcSet:(0,A.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.webp`),type:"image/webp"}),(0,V.jsx)("source",{srcSet:(0,A.b)(`images/Sw23-${e?"Mobile":"Desktop"}-Right.png`),type:"image/png"}),(0,V.jsx)("img",{className:`${H} ${P}`,src:"",alt:""})]})]}),z=(0,a.forwardRef)((({linkUri:e,loggedIn:t,isMWP:s,isStatic:a=!1,onClick:i},r)=>{const o=(0,R.y)(),c=(0,E.j)();return(0,V.jsx)("div",{className:M,ref:r,children:(0,V.jsxs)("div",{className:(0,D.Ju)("invertedLight",n()(F,{[L]:s})),children:[a||c?(0,V.jsx)(O,{isMWP:s}):(0,V.jsx)(W,{isMWP:s}),(0,V.jsx)(N.Z,{as:"h2",variant:"brio",semanticColor:"textBase",className:$,children:t?d.R.get("shared.wrapped-banner.title"):d.R.get("shared.wrapped-banner.title-loggedout")}),(0,V.jsx)(N.Z,{as:"p",variant:o===I.E.SMALL||s?"mesto":"ballad",semanticColor:"textBase",children:t?d.R.get("shared.wrapped-banner.body"):d.R.get("shared.wrapped-banner.body-loggedout")}),(0,V.jsx)(k.$,{colorSet:"invertedDark",iconTrailing:_.H,href:e,target:"_blank",size:o===I.E.SMALL||s?"small":"medium",onClick:i,children:d.R.get("shared.wrapped-banner.button")})]})})}));var J=s(59771),U=s(39555);const B=()=>{const e=(0,C.V)(),t=(0,c.NC)(w.ATM),{openURLWithSessionTransfer:s}=(0,J.L)(),{spec:i,logger:n}=(0,f.r)(S.S,{data:{identifier:"wrapped",uri:"spotify:2023wrapped"}}),r=(0,a.useMemo)((()=>i.campaignFactory({identifier:"wrapped",uri:"spotify:2023wrapped"}).bannerFactory({identifier:"home_wrapped_banner",uri:"desktop_banner"})),[i]),o=(0,U.t)(r),l="https://spotify.com/wrapped",d=(0,a.useCallback)((e=>{n.logInteraction(r.hitUiNavigate({destination:l})),s(l),e.preventDefault()}),[n,s,r]);return(0,V.jsx)(z,{linkUri:l,loggedIn:!e,onClick:d,ref:o,isStatic:t})};s(62355),s(63512);var Y=s(80795),Z=s(88514),X=s(82768),K=s(66813),Q=s(16813),G=s(76330);const q="https://courses.spotify.com",ee="dnyg39bzenKDCjizwMzt",te="wQraCJRwv242wm4StxJc",se="K7stzlHC447r9oht42X6",ae="ttgzfbfB4GP6WRVuhLSa",ie="ZRShtgAZLMUHmCZ3kelw",ne="fodeOTunaw7uLX6oRbLw",re="CVo6IW1mq3srWy9YZrAk",oe="IbWcT9VDY62fMGWKyVRg",ce="Dfqze5PoXWjDFglzjSTo",le="KBC0QaBWPGFHcOPnXlFA",de=["Learn from the best online creators.","Try everything, for free."],me=({index:e})=>{const{spec:t,logger:s,UBIFragment:i}=(0,f.r)(X.y,{data:{uri:"spotify:app:learning",position:e,reason:""}}),r=(0,a.useCallback)((()=>{const e=t.cardLinkFactory({position:0}).hitNavigateToExternalUri({destination:q});s.logInteraction(e)}),[s,t]),o=(0,c.NC)(w.tIR),l=o?Q.yV.ENCORE_CARDS:Q.yV.DEFAULT,d=(0,Q.s1)(l);return(0,V.jsx)(i,{spec:t,children:(0,V.jsx)(K.x,{config:d,children:(0,V.jsx)("div",{className:n()(se,{[ae]:o}),children:(0,V.jsx)("div",{className:ee,tabIndex:0,role:"button",onClick:()=>{r(),window.open(q,"_blank","noopener")},children:(0,V.jsxs)("div",{className:te,children:[(0,V.jsxs)("div",{className:ie,children:[(0,V.jsx)("div",{className:re,children:(0,V.jsx)(Z.E,{variant:"titleMedium",semanticColor:"textBase",children:"Video Courses"})}),(0,V.jsx)(Z.E,{variant:"bodySmall",className:oe,children:de[0]}),(0,V.jsx)(Z.E,{variant:"bodySmall",className:oe,children:de[1]})]}),(0,V.jsx)("div",{className:ne,children:(0,V.jsx)(k.$,{as:"a",size:"small",href:q,target:"_blank",colorSet:"invertedLight",iconTrailing:G.p,onClick:e=>{r(),e.stopPropagation()},children:(0,V.jsx)(Z.E,{variant:"bodySmallBold",children:"Discover Courses"})})}),(0,V.jsx)("div",{className:ce}),(0,V.jsx)("div",{className:le})]})})})})})};var pe=s(83623),ue=s(48287);const he="zecaxp9A6ET66ZYuMSLr",xe="CNmffmOxA0meXLgIZ2P4",ge=({spec:e,index:t,shelfTitle:s,isDjRendered:i})=>{const n=(0,a.useCallback)((e=>e<=3?e:(4!==e||i)&&(5!==e||i)?4===e&&i?3:i?Math.min(3,e-3):3:2),[i]),r=(0,c.NC)(w.tIR),o=r?Q.yV.ENCORE_CARDS:Q.yV.DEFAULT,l=(0,Q.s1)(o);return(0,V.jsx)(j.r,{spec:e.shelvesFactory(),children:(0,V.jsx)(K.x,{config:l,children:(0,V.jsxs)(ue.W,{getSpanColumns:n,className:he,areEncoreCardsEnabled:r,children:[(0,V.jsx)("div",{className:xe,children:(0,V.jsx)(pe.U,{title:s})}),(0,V.jsx)(me,{index:t})]})})})},ye=JSON.parse('{"data":{"__typename":"HomeLearningSectionData","title":{"text":"Introducing"}},"sectionItems":{"items":[{"title":"Video Courses","description":"Learn from the best online creators.Try everything, for free."}],"totalCount":1}}'),je=JSON.parse('{"uri":"spotify:section:0JQ5DAVAaDNAlq7hOF3StH","data":{"__typename":"HomeYourDJSectionData","title":{"text":"Meet DJ"}},"sectionItems":{"items":[{"uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","content":{"__typename":"PlaylistResponseWrapper","data":{"__typename":"Playlist","uri":"spotify:playlist:37i9dQZF1EYkqdzj48dyYq","name":"DJ","images":{"items":[{"sources":[{"url":"https://lexicon-assets.spotifycdn.com/DJ-Beta-CoverArt-300.jpg","width":null,"height":null}],"extractedColors":{"colorDark":{"hex":"#0858B8","isFallback":false}}}]},"description":"All kinds of music, picked by your own AI DJ.","ownerV2":{"data":{"__typename":"User","name":"Spotify"}}}},"data":null}],"totalCount":1}}');var fe=s(51367),ve=s(48522),be=(s(48117),s(68607),s(88202)),Se=s(99447);const Ce=({spec:e,section:t,index:s})=>(0,a.useMemo)((()=>t.sectionItems.items.some((e=>(0,Se.v)(e.content)))),[t.sectionItems])?(0,V.jsx)(j.r,{spec:e.shelvesFactory(),children:(0,V.jsx)(be.p,{total:t.sectionItems.totalCount,seeAllUri:t.uri,pageId:t.uri,title:t.data.title?.text??"",index:s,id:t.uri,children:t.sectionItems.items.map(Se.G).filter((e=>!!e))})}):null;var we=s(96596);const De=({spec:e,section:t,index:s})=>(0,V.jsx)(j.r,{spec:e.shelvesFactory(),children:(0,V.jsx)(we.default,{title:t.data.title?.text??void 0,showAll:!1,index:s})});var Ne=s(33840),ke=s(78852),_e=s(97568);const Ae=({shelfTitle:e,section:t,spec:s,index:a})=>(0,V.jsx)(j.r,{spec:s.shelvesFactory(),children:(0,V.jsx)(be.p,{total:t.sectionItems.totalCount,pageId:t.uri,title:e??"",index:a,id:t.uri,children:t.sectionItems.items.map(((e,t)=>{return"HomeDiscoveryFeedEntrypointItemFeatureData"===e.data?.__typename?(s=e.data,a=e.uri,i=t,"TrackResponseWrapper"!==s.coverItem.__typename||"Track"!==s.coverItem.data.__typename?null:(0,V.jsx)(_e.m,{uri:s.coverItem.data.uri,sectionUri:"spotify:section:0JQ5DABRtFWApcy61XJEvU",discoveryFeedUri:a,canvas:s.coverItem.data.canvas},`${s.coverItem.data.uri}-${i}`)):null;var s,a,i}))})});var Ie=s(93041),Re=s(60888),Ee=s(55308),Me=s(48178);const Fe=({spec:e,greeting:t,section:s,index:a})=>{const i=(0,Ee.b8)(),n=(0,c.NC)(w.BYw,{loadingValue:!1});switch(s.data?.__typename){case"HomeGenericSectionData":return(0,V.jsx)(Ce,{spec:e,section:(0,Me.M)(s,s.data),index:a});case"HomeShortsSectionData":return(0,V.jsx)(Ne.$,{spec:e,greeting:t,section:(0,Me.M)(s,s.data)});case"HomeRecentlyPlayedSectionData":return(0,V.jsx)(De,{spec:e,section:(0,Me.M)(s,s.data),index:a});case"HomeFeedBaselineSectionData":case"HomeNativeAdsSectionData":case"HomeOnboardingSectionData":case"HomeOnboardingSectionDataV2":return null;case"HomeYourDJSectionData":{const e=(0,Me.M)(s,s.data),{data:t,sectionItems:a}=e,n=a.items[0];if(i(s,s.data)&&"PlaylistResponseWrapper"===n.content.__typename&&"Playlist"===n.content.data.__typename){const{data:e}=n.content;return(0,V.jsx)(Ie.ed,{uri:Re.N6,shelfTitle:t.title?.text??"",title:e.name,description:e.description??""})}return null}case"HomeWatchFeedSectionData":{const t=(0,Me.M)(s,s.data);return n?(0,V.jsx)(Ae,{shelfTitle:s.data.title?.text??"",spec:e,index:a,section:t}):null}case"HomeFeatureActivationSectionDataV2":return(0,V.jsx)(ke.G,{sectionItems:s.sectionItems.items,uri:s.uri,localStorageKey:s.data.localStorageKey});case"HomeFeatureActivationSectionData":case null:case void 0:return null;default:return(0,ve.k)(s.data),null}};const Le=({spec:e,greeting:t,container:s})=>{const{spec:i,logger:n}=(0,f.r)(Y.createDesktopHomeFeatureActivationShelfEventFactory,{}),r=(0,c.NC)(w.gtB,{loadingValue:!1}),o=(0,c.NC)(w.RiV,{loadingValue:!1}),l=(0,a.useMemo)((()=>((e,t,s)=>{const a=[];s&&a.push(ye),t&&a.push(je);let i=[];return i=function(e){const t=e.sections.items;return t.length>0&&"HomeShortsSectionData"===t[0].data?.__typename}(e)?[e.sections.items[0],...a,...e.sections.items.slice(1)]:[...a,...e.sections.items],i.map((e=>"HomeLearningSectionData"===e.data?.__typename?{localOverride:!0,item:e}:{localOverride:!1,item:e}))})(s,r,o)),[s,r,o]),d=(0,Ee.b8)();return(0,a.useEffect)((()=>{(0,fe.Ek)()&&n.logImpression(i.impressionElementFactory().impression())}),[i,n]),(0,V.jsx)(V.Fragment,{children:l.map(((s,a)=>{if(s.localOverride){const t=s.item,i=t?.sectionItems.items[0];if(!t||!i)return null;const n=l.find((e=>"HomeYourDJSectionData"===e.item.data?.__typename));let r=!1;if(n){const e=n.item;r=d(e,e.data)}return(0,V.jsx)(ge,{spec:e,index:a,isDjRendered:r,shelfTitle:t.data.title.text},`${a}-${i.title}`)}return(0,V.jsx)(Fe,{spec:e,greeting:t,section:s.item,index:a},`${a}-${s.item.uri}`)}))})};var He=s(7744),Te=s(69400),Pe=s(16189),$e=s(23213),Ve=s(53475);const We=()=>(0,c.NC)(w.FAj)===w.z3X.ONHOME?(0,V.jsx)(Ve.g,{children:(0,V.jsx)($e.o,{onSearch:!1})}):null;var Oe=s(53466);const ze=6,Je=6,Ue=(0,a.memo)((({shelfCount:e,cardCount:t})=>(0,V.jsx)("section",{"data-testid":"home-page",children:(0,V.jsx)("div",{className:Oe.A.home,children:(0,V.jsxs)("div",{className:n()(Oe.A.content,"contentSpacing"),children:[(0,V.jsx)(p.y,{withTitle:!1}),[...new Array(e).keys()].map(((e,s)=>(0,V.jsx)(He.f,{withTitle:!0,cardCount:t},s)))]})})}))),Be=({spec:e})=>{(0,h.m)("home");const t=(0,r.d4)(Pe.JJ),s=(0,o.zy)(),a=new URLSearchParams(s.search).get("pCountry"),{subfeedId:i=null}=(0,o.g)(),l=(0,c.NC)(w.BYw,{loadingValue:!1}),{data:m,error:p,fetching:y}=(0,v.B8)({timeZone:(0,b.Ff)(),sp_t:(0,x.v8)("sp_t")??"",country:a??t,facet:i,sectionItemsLimit:l?3:10},{gcTime:b.gO,staleTime:b.jl}),j=(0,c.NC)(w.Y_Z),f=(0,c.NC)(w.ATM),S=j||f;if(y)return(0,V.jsx)(Ue,{shelfCount:ze,cardCount:Je});if(null!==p)return(0,V.jsx)(u.A,{hasError:!0,errorMessage:d.R.get("error.generic")});const C=m?.home;return"HomeResponsePayload"!==C?.__typename?(0,V.jsx)(u.A,{hasError:!0,errorMessage:d.R.get("error.generic")}):0===C.sectionContainer.sections.totalCount||0===C.sectionContainer.sections.items.length?((0,g.Jy)(new Error("Empty response from pathfinder"),"Home"),(0,V.jsx)(u.A,{hasError:!0,errorMessage:d.R.get("error.generic")})):(0,V.jsx)("section",{"data-testid":"home-page",children:(0,V.jsx)("div",{className:Oe.A.home,children:(0,V.jsxs)("div",{className:n()(Oe.A.content,"contentSpacing"),children:[S&&(0,V.jsx)(B,{}),(0,V.jsx)(Le,{spec:e,greeting:C.greeting?.text??null,container:C.sectionContainer})]})})})},Ye=()=>{const{spec:e}=(0,f.r)(l.Y,{data:{identifier:"home",uri:"spotify:home"}}),t=(0,Te.W)({type:"locale",uri:"home"});return(0,V.jsxs)(j.r,{spec:e,children:[(0,V.jsx)(m.Q,{children:(0,y.pr)({i18n:d.R,shouldLocalize:t})}),(0,V.jsx)(a.Suspense,{fallback:null,children:(0,V.jsx)(We,{})}),(0,V.jsx)(Be,{spec:e})]})}}}]);
//# sourceMappingURL=home-v2.js.map