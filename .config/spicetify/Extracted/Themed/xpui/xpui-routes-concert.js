"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9209],{92655:(e,t,s)=>{s.d(t,{A:()=>f});var a=s(79474),r=s(88514),n=s(89567),i=s(53326),o=s(31747),c=s(30412);const l="MUiWCNTfb6FcSwVPvQ1V",d="UAk3bMhekwJTV_wIyfsT",m="X9w6LPfKsZHMCs38sVIQ",u="NXn5KjeUOjLGlAfS1Gao",h="N0wgFMDDvCiby4QB5kLJ",g="nloNe2BLRHjz9dxlwfLU",x="FyD0hF1e2PKzRxQ6sYDQ",j="JzXND83mXvcEuntCNR34",v="GR08E4L_rOGljyQQX30R";var p=s(13274);const f=(0,a.memo)((e=>{const{uri:t,title:s,imageUrl:a,date:f,location:y,firstParty:N,onClick:_}=e,b=(0,c.l4)(f);return(0,p.jsxs)(i.Link,{to:t,className:l,"data-testid":"concert-card",onClick:_,children:[a&&(0,p.jsx)(o.b,{children:(0,p.jsx)("div",{role:"img",className:v,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${a})`}})}),(0,p.jsx)("time",{className:d,dateTime:f,children:(0,p.jsx)(r.E,{as:"div",variant:"bodySmallBold",children:(0,c.Fn)(b)})}),(0,p.jsxs)("div",{className:m,dir:"auto",children:[(0,p.jsx)(r.E,{as:"p",className:j,variant:"bodySmall",children:[(0,c.VJ)(b),(0,c.WB)(b)].join(" • ")}),(0,p.jsx)(r.E,{as:"h2",variant:"bodyMediumBold",className:u,children:s}),(0,p.jsxs)("div",{className:h,children:[N&&(0,p.jsx)("span",{className:x,children:(0,p.jsx)(n.D,{size:"small"})}),(0,p.jsx)(r.E,{as:"span",className:g,variant:"bodySmall","data-testid":"location-name",children:y})]})]})]})}))},37213:(e,t,s)=>{s.d(t,{I7:()=>u,bU:()=>h,f7:()=>d,fD:()=>o,he:()=>c,nm:()=>n,oh:()=>m,zm:()=>l});s(62355),s(68607);var a=s(14354),r=s(82190);const n=(e,t)=>{if(!e)return"/concerts";const s=t?.normalize().replaceAll(/\W+/g,"-");return s?`/concerts/location/${e}-${s}`:`/concerts/location/${e}`},i=10;function o(e){if(0===e.length)return[];if(0===e[0].events.length)return[];const t=[];let s={date:e[0].events[0].openingDate.slice(0,i),events:[]};for(const a of e)for(const e of a.events){const a=e.openingDate.slice(0,i);s.date!==a&&(t.push(s),s={date:a,events:[]}),s.events.push(e)}return t.push(s),t}const c=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),l=e=>e.concerts.some((({concert:e})=>c(e))),d=e=>{const t=new Date(e);t.setDate(e.getDate()+(6-e.getDay()));const s=new Date(t);return s.setDate(t.getDate()+1),{from:t,to:s}},m=e=>{const t=new Date(e);t.setDate(e.getDate()+(6-e.getDay()));const s=new Date(t);s.setDate(t.getDate()+7);const a=new Date(s);return a.setDate(s.getDate()+1),{from:s,to:a}},u=(e,t)=>!!(e?.from&&e?.to&&t?.from&&t?.to)&&((0,a.r)(e.from,t.from)&&(0,a.r)(e.to,t.to)),h=e=>(0,r.x)(e,{representation:"date"})},85884:(e,t,s)=>{s.d(t,{o:()=>o});var a=s(49036),r=s(11142),n=s(41913);const i=e=>{const[t,{username:s,concertUri:a}]=e.queryKey;return(async(e,t)=>{const s=await(0,n.aw)(r.n.getInstance(),e,t);return s.body?.found[0]})(s,a)},o=e=>{const t=["concertInCollection",e];return(0,a.I)({queryKey:t,queryFn:i,retry:!1,enabled:!!e.username})}},33069:(e,t,s)=>{s.r(t),s.d(t,{default:()=>St});s(62355),s(83367),s(1137);var a=s(61343),r=s(88514),n=s(50893),i=s(63275),o=s(89551),c=s(35951),l=s(19935),d=s(4888),m=s(79698),u=s(52842),h=s(81891),g=s(51103),x=s(52745),j=s(79474),v=s(18659),p=s(8413),f=s(53505),y=s(94080),N=s(50272),_=s(53326),b=s(37213),S=s(36981),k=s(14863),C=s(27798);const D="DT8qnb2n6r8T68jLVthh",R="zTsWYsr2n9I1LMmEDGTU",I="qWd4xt94mckHYR2xmAKj",w="SkMjjVu2vVUOX8DzcDSo",U="tyNr9rDKx_AdxYH5e_JY",E="od7mn8s0l5iqP3Svx0AV";var M=s(13274);const T=(0,j.memo)((e=>{const{location:t,showTime:s,ageRestriction:a,htmlDescription:n,doorsOpenTime:i,spec:c}=e,l=(0,S.s)(),d=(0,y.NC)(k.Zx),m=t.metroAreaLocation?(0,b.nm)(t.metroAreaLocation?.geonameId,t.metroAreaLocation?.fullName):null;return(0,M.jsxs)("div",{className:D,children:[n?.trim()&&(0,M.jsxs)("div",{className:R,children:[(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",className:I,children:o.R.get("artist.about")}),(0,M.jsx)(N.q,{html:n,onTimeStampClick:()=>{}})]}),(0,M.jsxs)("div",{className:R,children:[(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",className:I,children:o.R.get("tracklist.header.venue")}),(0,M.jsxs)("div",{className:E,children:[(0,M.jsx)(v.t,{className:w}),(0,M.jsxs)("div",{children:[(0,M.jsx)(r.E,{as:"h4",variant:"bodyMediumBold",className:U,children:t.name}),(0,M.jsx)(r.E,{as:"p",variant:"bodyMedium",children:(0,C.im)({...t,name:""})})]})]}),(0,M.jsxs)("div",{className:E,children:[(0,M.jsx)(p.p,{className:w}),(0,M.jsxs)("div",{children:[(0,M.jsxs)(r.E,{as:"h4",variant:"bodyMediumBold",className:U,children:[i&&o.R.get("concert.door_time",o.R.formatDate(i,{timeStyle:"short"})),i&&" • ",o.R.get("concert.show_time",o.R.formatDate(s,{timeStyle:"short"}))]}),a?.trim()&&(0,M.jsx)(r.E,{as:"p",variant:"bodyMedium",children:a})]})]}),d&&m&&(0,M.jsxs)("div",{className:E,children:[(0,M.jsx)(f.T,{className:w}),(0,M.jsx)(_.default,{to:m,onClick:()=>(e=>{const t=c.concertLocationLinkFactory().hitUiNavigate({destination:e});l.logInteraction(t)})(m),children:(0,M.jsx)(r.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:o.R.get("concert.see_more_events_in_location",t.metroAreaLocation?.fullName)})})]})]})]})}));var A=s(51057),F=s(64837),L=s(2940),B=s(19606),P=s(75108),V=s(34378),z=s(25833),q=s(65102);const G=j.memo((function({uri:e}){const{spec:t}=(0,V.o)(e);return(0,M.jsx)(P.pZ,{value:"concert",children:(0,M.jsxs)(B.W,{children:[(0,M.jsx)(z.h,{children:(0,M.jsx)(q.mP,{spec:t,uri:e,displayText:o.R.get("context-menu.copy-concert-link")})}),(0,M.jsx)(q.q0,{spec:t,uri:e})]})})}));var K=s(76839),O=s(85980),W=s(94398),Y=s(19844),H=s(70030),Z=s(40048),Q=s(82383),X=s(11142),$=s(41913),J=s(39555),ee=s(69624),te=s(85884);const se="x6zNCqcdrTezhaUq6pck",ae="ZcbYxrNgxYr3SbEDBTYc",re="_vV79k5wVj4ojQrGsBb1",ne="rdv_h11KFhUaePKRhMCV",ie="Iq0_yrjNiWn8wRH7aDph",oe="cywtrgfOWVwmo7QagmNV",ce="_vCmAsTSGBADcknU2Mzz",le="Y6ilq5IfXWe4NCTIEAQs",de="F0GSgR3ItvuSGr62Oe5g",me="LtnM_4Oyo1HSd2O3TmCE",ue="IQqSOBxm76WfDmGIj1DU",he="FSRM6nxcxudGRBZa4PTT",ge="ptXgOTvLktMzK0gfIr3K",xe="Y2Rtthdu0TlFAE_wU0Ah",je="ntlY4xYsXqEM8EWs1uvk",ve="a4SDu_eWa3Lmy8zYJJOU",pe="rkyLixjACVqakDzW70Fj",fe="QktlqjloKFGPU6VeCdJB",ye="D5ikxKFFy7OrZoPNlsxA",Ne="_OGSfzdUucEdm0ll_tF7",_e="NoeAvmXKTUNWhszGUnHk",be="YmnPLOjioNCevJtMZ0WW",Se="y8RckB3uXs02SxhOZkH0",ke="PnjkxsPxdfZjXVMFaK4X",Ce="USYJQ5misC_yxAwGf2i_",De="LXNtpDfChMRAPEOEhNGW",Re="nfjG30FTqx4BgHijkNnt",Ie="B6WEG6LOQLlkS_qAvKTq",we="pjNrzKzBuV7XUPky3ier",Ue="i90BSV7_cgYaY8UBFCqg",Ee="TkfBKkvG2fmebTrGLIxi",Me="Cu2TG7TTa2wwKrEpEsKY",Te=(0,j.memo)((e=>{const{concertUri:t,entitySpec:s}=e,a=(0,j.useMemo)((()=>s.interestedButtonFactory()),[s]),r=(0,J.t)(a),n=(0,S.s)(),{enqueueSnackbar:c}=(0,ee.d)(),l=(0,O.d4)(Q.F6),{data:d,isLoading:m}=(0,te.o)({username:l,concertUri:t}),[u,h]=(0,j.useState)(),g=void 0===u?d:u,x=(0,i.o_)(t);return(0,M.jsx)(Z.Zp,{label:o.R.get("concerts_interested_tooltip"),placement:"top-end",children:(0,M.jsx)(W.n,{ref:r,size:"small",iconLeading:g?Y.i:H.u,className:_e,"aria-checked":g,disabled:m,onClick:()=>{if(!m)if(g){const e=a.hitRemoveInterest();e&&n.logInteraction(e),h(!1),c(o.R.get("concerts_removed-from-your-saved-events")),(0,$.Jr)(X.n.getInstance(),x.id)}else{const e=a.hitAddInterest();e&&n.logInteraction(e),h(!0),c(o.R.get("concerts_added-to-your-saved-events")),(0,$.m9)(X.n.getInstance(),x.id)}},children:o.R.get("concerts_interested")})})}));var Ae=s(18331),Fe=s(30412),Le=s(94926),Be=s(76330),Pe=s(11533);const Ve=(0,j.memo)((e=>{const{concertUri:t,offer:s,position:a,spec:n,onRemindMe:i}=e,c=s.soldOut||(0,Fe.m7)(s.endDateIsoString),l="Spotify"===s.providerName,d=(0,Fe.PR)(s.startDateIsoString),m=d?void 0:s.url,u=(0,S.s)(),h=(0,Le.W)(),g=(0,j.useMemo)((()=>n.ticketProviderCellFactory({identifier:s.providerName,position:a,uri:s.url})),[n,s.providerName,a,s.url]),x=(0,J.t)(g),v=(0,j.useMemo)((()=>{if(c)return(0,M.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:De,children:o.R.get("concerts.soldout")});if(d){const e=s.startDateIsoString&&new Date(s.startDateIsoString);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:ke,children:o.R.get("concerts.tickets_on_sale_soon")}),e&&(0,M.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ie,children:o.R.get("concerts.ticket_date_time",(0,Fe.Y)(e),(0,Fe.WB)(e))})]})}const e={"on-sale":o.R.get("concerts.on_sale"),presale:o.R.get("concerts.presale")};return(0,M.jsxs)(M.Fragment,{children:[e[s.saleType]&&(0,M.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:ke,children:e[s.saleType]}),l&&s.minPrice&&(0,M.jsx)(r.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Se,children:o.R.get("concerts.ticket_price",s.minPrice)})]})}),[c,d,s.saleType,s.minPrice,s.startDateIsoString,l]),p=(0,j.useMemo)((()=>c?null:(d&&(Ae.$,o.R.get("concerts.remind_me")),(0,M.jsx)(Ae.$,{className:be,iconTrailing:Be.p,size:"small",children:l?o.R.get("concert_buy_tickets"):o.R.get("concert_find_tickets")}))),[c,d,l,i]);return(0,M.jsxs)("a",{href:m,className:ue,target:"_blank",ref:x,onClick:()=>{const e=g.hitNavigateToExternalUri({destination:s.url});e&&u.logInteraction(e),h({targetUri:t,intent:"find-concert",type:"click"})},children:[(0,M.jsx)("div",{className:he,children:(0,M.jsx)(Pe._,{loading:"eager",src:s.providerImageUrl,height:"100%",width:"100%",className:ge,children:(0,M.jsx)(f.T,{className:xe,size:"medium"})})}),(0,M.jsxs)("div",{className:je,children:[(0,M.jsxs)("div",{dir:"auto",className:Ce,children:[v,(0,M.jsx)(r.E,{as:"p",semanticColor:"textSubdued",children:s.providerName})]}),p]})]})})),ze=(0,j.memo)((e=>{const{concertUri:t,offers:s,entitySpec:a}=e,n=(0,j.useMemo)((()=>a.ticketProviderListFactory()),[a]),i=(0,J.t)(n);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",children:o.R.get("concert.header.available_tickets_from")}),(0,M.jsx)("div",{ref:i,className:de,children:s.map(((e,s)=>(0,M.jsx)(Ve,{concertUri:t,offer:e,position:s,onRemindMe:()=>{},spec:n},e.url)))}),(0,M.jsx)(r.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:me,children:o.R.get("events_page.disclaimer")})]})})),qe=(0,j.memo)((e=>{const{locationName:t,latitude:s,longitude:a,onClick:n}=e,i=new URL("https://maps.google.com/");return i.searchParams.set("q",t),s&&a&&i.searchParams.set("ll",`${s},${a}`),(0,M.jsx)("a",{href:i.href,target:"_blank",onClick:()=>n?.(i.href),children:(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",children:t})})})),Ge=(0,j.memo)((e=>{const{concert:t,entitySpec:s}=e,a=(0,S.s)(),n=(0,K.V)(),i=(0,Fe.l4)(t.startDateIsoString);if((0,Fe.m7)(t.startDateIsoString))return(0,M.jsxs)("div",{className:le,children:[(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",children:o.R.get("concert_event_ended")}),(0,M.jsx)(r.E,{variant:"bodyMedium",children:(0,M.jsx)(_.default,{to:"spotify:concerts",children:o.R.get("concert_past_message")})})]});return(0,M.jsxs)("div",{className:le,children:[(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",className:Re,children:(0,M.jsx)(qe,{locationName:(0,C.im)(t.location),latitude:t.location.coordinates?.latitude,longitude:t.location.coordinates?.longitude})}),(0,M.jsx)(r.E,{as:"h3",variant:"bodySmall",className:ye,children:[(0,Fe.Y)(i),(0,Fe.WB)(i)].join(" • ")}),(0,M.jsxs)("div",{className:se,children:[!n&&(0,M.jsx)(Te,{concertUri:t.uri,entitySpec:s}),(0,M.jsx)(F.w,{uri:t.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{const e=s.shareEventButtonFactory({uri:t.uri}).hitShare({entityToBeShared:t.uri,shareId:t.uri});e&&a.logInteraction(e)},className:we,ariaLabel:o.R.get("concerts_share_with_friends")}),(0,M.jsx)(L.bz,{menu:(0,M.jsx)(G,{uri:t.uri}),onShow:()=>{const e=s.contextMenuButtonFactory().hitUiReveal();e&&a.logInteraction(e)},children:(0,M.jsx)(A.e,{size:"large"})})]}),(0,M.jsx)(ze,{concertUri:t.uri,offers:t.offers.items,entitySpec:s})]})}));var Ke=s(62817),Oe=s(42156),We=s(67278),Ye=(s(48117),s(12282));const He=(e,t)=>new Date(e.date.isoString).getTime()-new Date(t.date.isoString).getTime(),Ze=({artist:e,spec:t})=>{const s=(0,S.s)(),a=e.goods.events.concerts.items.filter((e=>e.nearUser)).sort(He).shift(),r=a&&(e=>{const t=o.R.formatDate(new Date(e?.date.isoString),{day:"numeric",month:"short"});return e.venue.location?.name?`${t}, ${e.venue.location.name}`:t})(a),n=e.goods.events.userLocation?.name,i=`${e.uri}:concerts`;return(0,M.jsxs)("div",{className:Ee,children:[a&&n&&(0,M.jsxs)("div",{className:Me,children:[(0,M.jsx)(Ye.Z,{children:o.R.get("concerts.next_concert_near_location_colon",n)}),(0,M.jsx)(_.default,{to:a.uri,onClick:()=>(e=>{const a=t.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e});s.logInteraction(a)})(a.uri),children:(0,M.jsx)(Ye.Z,{semanticColor:"textSubdued",children:r})})]}),(0,M.jsxs)("div",{className:Me,children:[(0,M.jsx)(Ye.Z,{children:o.R.get("concerts.on_tour_colon")}),(0,M.jsx)(_.default,{to:i,onClick:()=>{const e=t.artistEventsLinkFactory({uri:i}).hitUiNavigate({destination:i});s.logInteraction(e)},children:(0,M.jsx)(Ye.Z,{semanticColor:"textSubdued",children:o.R.get("concerts.view_all_upcoming_concerts_count",e.goods.events.concerts.totalCount)})})]})]})};var Qe=s(60327),Xe=s(97500),$e=s.n(Xe),Je=s(31747);const et="FjO33VzGE6gfBjmL653W",tt="_NcmNLWwFe2sPY79b4Qa",st="SZ9bIvB_4JDVTg1qX0Bf",at="akNxAcOtC3FYI8sqvJjD",rt="mUE9LjVEFQPKle8deylh",nt="Vf1WyewhhIsg7A_HPmBJ",it="XY8pb4mCvOicd35GIUMg",ot="_KEuwafdCwVU1rKBhfQz",ct=(0,j.memo)((e=>{const{imageUri:t,name:s,uri:a,headliner:n,onClick:i}=e,c=(0,y.NC)(Qe.tIR),l=(0,M.jsxs)(_.Link,{to:a,className:$e()(tt,{[st]:!c}),onClick:i,children:[t?(0,M.jsx)(Je.b,{children:(0,M.jsx)("div",{"data-testid":"image-container",className:ot,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${t})`}})}):null,(0,M.jsxs)("div",{className:at,children:[n&&(0,M.jsx)("div",{className:nt,children:(0,M.jsx)(r.E,{as:"h4",variant:"bodySmallBold",className:it,children:o.R.get("concert.label.headliner")})}),(0,M.jsx)(r.E,{as:"h2",variant:"titleMedium",className:rt,children:s})]})]});return c?(0,M.jsx)("div",{className:et,children:l}):l})),lt=ct,dt=(0,j.memo)((e=>{const{artist:t,position:s,lineupSpec:a}=e,r=(0,j.useMemo)((()=>a.artistRowFactory({position:s,uri:t.uri})),[a,s,t.uri]),n=(0,S.s)(),i=(0,y.NC)(Qe.DFH),c=t.relatedContent.featuringV2.items.flatMap((e=>{const{data:t}=e;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),l=t.discography.popularReleasesAlbums.items,d=t.visuals.avatarImage?.sources?.[0],m=(0,M.jsx)(lt,{uri:t.uri,name:t.profile.name,imageUri:d?.url,headliner:0===s,onClick:()=>{const e=r?.artistCardFactory().hitUiNavigate({destination:t.uri});e&&n.logInteraction(e)}},t.uri),u=c.map(((e,t)=>{const s="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,M.jsx)(Oe.B,{index:t,uri:e.uri,name:e.name,images:e.images.items[0]?.sources,description:e.description||"",authorName:s},e.uri)})),h=l.map(((e,t)=>{const s=e.artists.items.map((e=>({uri:e.uri,name:e.profile.name})));return(0,M.jsx)(Ke.a,{uri:e.uri,index:t,artists:s,images:e.coverArt?.sources||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,M.jsxs)(P.pZ,{value:"headered-grid",index:s,children:[(0,M.jsx)(We.$,{title:0===s?o.R.get("concert_lineup"):"",total:2+u.length+h.length,seeAllUri:t.uri,seeAllLabel:o.R.get("view.see-all"),onClickShelfSeeAll:()=>{const e=r?.seeDiscographyLinkFactory().hitUiNavigate({destination:t.uri});e&&n.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[m,null,...u,...h],className:Ue}),i&&(0,M.jsx)(Ze,{artist:t,spec:r})]},t.uri)})),mt=(0,j.memo)((e=>{const{artists:t,entitySpec:s}=e,a=(0,j.useMemo)((()=>s.lineupArtistsFactory()),[s]),r=(0,J.t)(a);return(0,M.jsx)("div",{ref:r,className:ve,children:t.flatMap(((e,t)=>{if("Artist"!==e.data.__typename)return[];const s=e.data;return[(0,M.jsx)(dt,{artist:s,position:t,lineupSpec:a},s.uri)]}))})}));var ut=s(40669);const ht="Hfc2oes6xv_aDZe9NiT1",gt="SHue2Uo0VFHp8utelad9",xt="RR0j6Ja2HpvGlL7Hq2wg",jt=(0,j.memo)((e=>(0,M.jsxs)(_.Link,{to:"spotify:concerts",className:ht,onClick:e.onClick,children:[(0,M.jsx)(Je.b,{children:(0,M.jsx)("div",{className:xt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,M.jsx)("div",{className:gt,children:(0,M.jsx)(r.E,{as:"h2",variant:"titleSmall",children:o.R.get("concerts_browse_more")})})]})));var vt=s(92655);const pt=(0,j.memo)((e=>{const{concert:t,position:s,recommendedSpec:a}=e,r=(0,S.s)(),n=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),i=n.map((e=>e.profile.name)),o=(0,C.tI)(t.title,t.festival,i)?t.title:(0,C.Ac)(i),c=n[0]?.visuals.avatarImage?.sources[0];return(0,M.jsx)(vt.A,{uri:t.uri,title:o,date:t.startDateIsoString,location:(0,C.im)(t.location),imageUrl:c?.url,firstParty:t.firstParty,onClick:()=>{const e=a?.concertCardFactory({position:s,uri:t.uri}).hitUiNavigate({destination:t.uri});e&&r.logInteraction(e)}})})),ft=(0,j.memo)((e=>{const{relatedConcerts:t,entitySpec:s}=e,a=(0,j.useMemo)((()=>s.recommendedConcertsFactory()),[s]),r=(0,S.s)(),n=(0,J.t)(a),i=t.items.flatMap((e=>"ConcertV2"===e.data.__typename?[e.data]:[]));if(0===i.length)return null;return(0,M.jsx)("div",{ref:n,className:fe,"data-testid":"concert-recommendations",children:(0,M.jsx)(P.pZ,{value:"headered-grid",children:(0,M.jsxs)(We.$,{title:o.R.get("concerts_more_events"),total:t.totalCount,className:Ne,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:o.R.get("view.see-all"),colGap:(0,ut.po)("base"),children:[(0,M.jsx)(jt,{onClick:()=>{const e=a?.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&r.logInteraction(e)}},"browse"),i.map(((e,t)=>(0,M.jsx)(pt,{position:t,concert:e,recommendedSpec:a},e.uri)))]})})})}));var yt=s(50578),Nt=s(34757);const _t=new yt.l("concert","query","bb464032342ed2e97f8ad0ba0202c43485d2652530deaa6b117c21c235a8bc5f",null),bt=e=>{const{concert:t}=e,{spec:s}=(0,x.r)(n.b,{data:{identifier:(0,i.o_)(t.uri)?.id,uri:t.uri}}),a=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),h=a[0].visuals.headerImage;(0,g.z6)(h?.extractedColors?.colorDark.hex);const j=a.map((e=>e.profile.name)),v=(0,C.tI)(t.title,t.festival,j)?t.title:(0,C.re)(j),p=(0,Fe.l4)(t.startDateIsoString);return(0,M.jsxs)("section",{className:ie,children:[(0,M.jsx)(l.Q,{children:o.R.get("concert.entity_metadata.title",t.title,t.location.city,t.location.name)}),(0,M.jsxs)(d.z4,{backgroundImages:h?.sources,children:[(0,M.jsxs)(d.Y$,{children:[(0,M.jsx)(d.Zx,{children:(0,M.jsx)("div",{className:ae,children:(0,M.jsx)(r.E,{as:"h3",variant:"titleSmall",className:re,children:(0,Fe.Fn)(p)})})}),(0,M.jsx)(d.mm,{className:oe,children:v})]}),(0,M.jsx)(m.h,{children:(0,M.jsx)("div",{className:pe,children:(0,M.jsx)(u.X,{text:v})})})]}),(0,M.jsxs)("div",{className:ne,children:[(0,M.jsx)(c.K,{backgroundColor:h?.extractedColors?.colorDark.hex}),(0,M.jsxs)("div",{className:ce,children:[(0,M.jsx)(Ge,{concert:t,entitySpec:s}),(0,M.jsx)(mt,{artists:t.artists.items,entitySpec:s}),(0,M.jsx)(T,{location:t.location,showTime:p,htmlDescription:t.htmlDescription,ageRestriction:t.ageRestriction,doorsOpenTime:t.doorsOpenTimeIsoString?(0,Fe.l4)(t.doorsOpenTimeIsoString):null,spec:s}),(0,M.jsx)(ft,{relatedConcerts:t.relatedConcerts,entitySpec:s})]})]})]})},St=()=>{const{concertId:e}=(0,a.g)(),t=`spotify:concert:${e}`,{loading:s,error:r,data:n}=(i={uri:t},(0,Nt.I)(_t,i,c));var i,c;return s?(0,M.jsx)(h.A,{hasError:!1,errorMessage:""}):r||"ConcertV2"!==n?.concert.__typename?(0,M.jsx)(h.A,{hasError:!0,errorMessage:o.R.get("concert.error.concert_not_found_title")}):(0,M.jsx)(bt,{concert:n.concert})}},51103:(e,t,s)=>{s.d(t,{Hk:()=>r.H,z6:()=>a.z});s(18515);var a=s(4977),r=s(75995)}}]);
//# sourceMappingURL=xpui-routes-concert.js.map