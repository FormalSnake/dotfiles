"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7994],{919:(e,n,s)=>{s.d(n,{AboutSpotifyModal:()=>D});var a=s(50959),i=s(92389),t=s(88798),o=s(18436),l=s(5701),c=s(91154),r=s(38609),d=s(60112),u=s(47779);const m="hbpwhf54ljdKrhNTq4mA";var g=s(11527);const p=()=>{const e=(0,a.useContext)(r.z),n=(0,d.g)(),s=(0,a.useCallback)((()=>{e.prepareUpdate()}),[e]),i=(0,a.useCallback)((()=>{e.applyUpdate()}),[e]);switch(n?.state){case u.J.UPDATE_AVAILABLE:return(0,g.jsxs)("div",{children:[l.ag.get("about.upgrade.pending",n.version)," ",(0,g.jsx)("button",{className:m,onClick:s,children:l.ag.get("about.upgrade.pending_link")})]});case u.J.UPDATE_PROCESSING:return(0,g.jsx)("div",{children:l.ag.get("about.upgrade.downloading")});case u.J.UPDATE_READY:return(0,g.jsxs)("div",{children:[l.ag.get("about.upgrade.downloaded",n.version)," ",(0,g.jsx)("button",{className:m,onClick:i,children:l.ag.get("about.upgrade.restart_link")})]});case u.J.UPDATE_NONE:default:return null}};var h=s(35098),x=s(43132);const v="desktopmodals-versionStatus-container",j="desktopmodals-versionStatus-content",b="desktopmodals-versionStatus-copyButton",N=new Map([["Win32",l.ag.get("desktop-about.platform-win-x86")],["Win32_x86_64",l.ag.get("desktop-about.platform-win-x86-64")],["Win32_ARM64",l.ag.get("desktop-about.platform-win-arm-64")],["OSX",l.ag.get("desktop-about.platform-mac-x86")],["OSX_ARM64",l.ag.get("desktop-about.platform-mac-arm-64")],["Linux",l.ag.get("desktop-about.platform-linux")]]),C=()=>{const e=(0,a.useRef)(null),{settings:n}=(0,x.rV)(),s=function(){const e=(0,a.useContext)(r.z),[n,s]=(0,a.useState)(null);return(0,a.useEffect)((()=>{let n=!0;return e.getVersionInfo().then((e=>{n&&s(e)})),()=>{n=!1}}),[e,s]),n}(),i=l.ag.get("desktop-about.platform-unknown");if(null===s)return null;const t="1"===n.values.employee,o=n.values["app.enable-developer-mode"],c=t?s.containerBuildType:"",d=N.get(s.containerPlatform)??i,u=l.ag.get("desktop-about.platform",{employee_build_type:c},{platform:d}),m=l.ag.get("desktop-about.copy-version-info-tooltip");return(0,g.jsxs)("div",{className:v,children:[(0,g.jsxs)("div",{className:j,ref:e,children:[(0,g.jsx)("div",{children:u}),(0,g.jsx)("div",{children:s.containerVersion}),!!o&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{children:s.uiVersion}),(0,g.jsx)("div",{children:s.cefVersion}),(0,g.jsx)("div",{children:s.cefRuntime})]})]}),(0,g.jsx)("button",{title:m,className:b,onClick:()=>{e.current&&(0,h.v)(e.current.innerText)},children:"âŽ˜"})]})};var y=s(55923),k=s(44436),f=s(59140);const O="desktopmodals-aboutSpotifyModal-container",I="desktopmodals-aboutSpotifyModal-closeButton",S="desktopmodals-aboutSpotifyModal-content",_="desktopmodals-aboutSpotifyModal-licensing",w="desktopmodals-aboutSpotifyModal-copyright",D=(0,a.memo)((function(){const e=(0,i.I0)(),{isOpen:n}=(0,i.v9)((e=>e.aboutSpotify)),s=new Date("2024-01-15").getUTCFullYear().toString(),r=(0,a.useCallback)((()=>{e((0,y.se)())}),[e]);return(0,g.jsx)(k.Z,{animated:!0,isOpen:n,onRequestClose:r,contentLabel:l.ag.get("about.title_label"),children:(0,g.jsxs)("div",{className:O,children:[(0,g.jsxs)("main",{className:S,children:[(0,g.jsx)(f.Z,{noLink:!0,hasText:!0}),(0,g.jsx)(C,{}),(0,g.jsx)(p,{}),(0,g.jsx)(t.x,{as:"div",variant:"marginal",className:_,children:(0,g.jsx)(c.k,{source:l.ag.get("about.copyright",s),paragraphClassName:w})})]}),(0,g.jsx)("button",{"aria-label":l.ag.get("close_button_action"),className:I,onClick:r,children:(0,g.jsx)(o.k,{size:"medium"})})]})})}))},13176:(e,n,s)=>{s.r(n),s.d(n,{default:()=>x,mapDispatchToProps:()=>h});var a=s(92389),i=s(82056),t=s(88798),o=s(60820),l=s(5701),c=s(44436);const r="desktopmodals-licensesModal-container",d="desktopmodals-licensesModal-content",u="desktopmodals-licensesModal-licensesFrame",m="desktopmodals-licensesModal-buttonContainer";var g=s(11527);const p=({isOpen:e,onClose:n})=>(0,g.jsx)(c.Z,{isOpen:e,onRequestClose:n,contentLabel:l.ag.get("licenses.title"),children:(0,g.jsxs)("div",{className:r,children:[(0,g.jsxs)("main",{className:d,children:[(0,g.jsx)(t.x,{as:"h1",variant:"titleMedium",semanticColor:"textBase",children:l.ag.get("licenses.title")}),(0,g.jsx)("iframe",{className:u,title:l.ag.get("licenses.title"),src:"/licenses.html"})]}),(0,g.jsx)("div",{className:m,children:(0,g.jsx)(o.D,{onClick:n,children:l.ag.get("close_button_action")})})]})});const h=e=>({hide:()=>e((0,i.xh)())}),x=(0,a.$j)((e=>({isOpen:e.licenses.isOpen})),h)((function({isOpen:e,hide:n}){return(0,g.jsx)(p,{isOpen:e,onClose:n})}))},91513:(e,n,s)=>{s.r(n),s.d(n,{InvitationModal:()=>S,default:()=>S});var a=s(50959),i=s(92389),t=s(21814),o=s(49608),l=s(92249),c=s(44436),r=s(43206),d=s(15162),u=s(70830),m=s(88798),g=s(60820),p=s(64412),h=s(5701),x=s(93722),v=s(11527);const j=({size:e=60,className:n})=>(0,v.jsx)("img",{className:n,src:(0,x.g)("images/group-session-logo.svg"),height:e,width:e,alt:h.ag.get("web-player.social-connect.group-session-logo-alt")}),b="X_PPo45wobYp0Jzet5Sq",N="C9HFNCo18nqGzjfoFM6j",C="IKGIOXL2pLJpwY9VyU6c",y="QHBM1_M6TFArl2mu3THg",k="peBDnb4aULrz7QWmmxAv",f=({onCopyLink:e,onCancel:n})=>(0,v.jsxs)("div",{className:b,children:[(0,v.jsx)(j,{className:N}),(0,v.jsxs)("div",{className:C,children:[(0,v.jsx)(m.x,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:h.ag.get("web-player.social-connect.invitation-modal.title")}),(0,v.jsx)(m.x,{as:"p",variant:"bodyMedium",semanticColor:"textBase",className:y,children:h.ag.get("web-player.social-connect.invitation-modal.subtitle")})]}),(0,v.jsxs)("div",{className:k,children:[(0,v.jsx)(g.D,{onClick:e,children:h.ag.get("web-player.social-connect.invitation-modal.button-primary")}),(0,v.jsx)(p.o,{semanticColor:"textBase",onClick:n,children:h.ag.get("web-player.social-connect.invitation-modal.button-tertiary")})]})]});var O=s(70763),I=s(60278);const S=()=>{const{createSession:e,currentSession:n,deleteSession:s}=(0,u.A)(),m=(0,i.I0)(),g=(0,r.s4)(),{remoteDevice:p}=(0,d.H)(),h=(0,O.g)(),x=(0,i.v9)((e=>e.ui.groupSessionInvitationModal.isOpen)),j=(0,a.useCallback)((()=>{m((0,l.uA)())}),[m]),b=(0,a.useCallback)((async()=>{if(n){await s()&&g.send((0,o.H)({session_id:n.sessionId,end_reason:I.Ll.INVITATION_MODAL_CANCEL_BUTTON}))}j()}),[n,j,s,g]),N=(0,a.useCallback)((async()=>{const s=n?.joinSessionUri;if(!s){const n=await e();if(!n?.joinSessionUri)return;g.send((0,t.Q)({session_id:n.sessionId,device_type:p?.type,tech_type:p?.isLocal?I.SP.LOCAL:I.SP.CONNECT,session_uri:n.joinSessionUri,session_type:I.FF.REMOTE}))}h(),m((0,l.uA)())}),[n,h,m,e,g,p]),C=(0,a.useCallback)((async()=>{await e()}),[e]);return(0,v.jsx)(c.Z,{isOpen:x,onRequestClose:j,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onAfterOpen:C,animated:!0,children:(0,v.jsx)(f,{onCopyLink:N,onCancel:b})})}},19150:(e,n,s)=>{s.r(n),s.d(n,{JoinModal:()=>G,default:()=>G});s(14534),s(53261),s(55330);var a=s(50959),i=s(92389),t=s(66788),o=s(92249),l=s(44436),c=s(43206),r=s(78453),d=s(82092);const u="Up6eBVi6APV02PhtGBMm",m="uI_FVsLD7gOnOk2Y49Je",g="qxaA5bbQjcXa_PsviJ4O";var p=s(11527);const h=()=>(0,p.jsx)("div",{className:d.Z.container,children:(0,p.jsxs)("div",{className:u,children:[(0,p.jsx)(r.C,{as:"h3",variant:"titleSmall",className:g,charCount:16,isLoading:!0}),[[20,50,25],[40,28,35]].map(((e,n)=>(0,p.jsx)("div",{className:m,children:e.map(((e,n)=>(0,p.jsx)(r.C,{as:"div",variant:"bodySmall",className:g,charCount:e,isLoading:!0},`${e}-${n}`)))},`skeleton-section-${n}`)))]})});var x=s(3599),v=s(60433),j=s(70830),b=s(38163),N=s(84875),C=s.n(N),y=s(88798),k=s(60820),f=s(64412),O=s(5701);const I=({children:e})=>(0,p.jsx)("div",{className:d.Z.deviceContainer,children:e}),S=({children:e})=>(0,p.jsx)("div",{className:d.Z.legalNotice,children:(0,p.jsx)("div",{className:d.Z.innerLegalNotice,children:e})});let _=function(e){return e.NONE="NONE",e.JOINING="JOINING",e.JOINED="JOINED",e.FAILED="FAILED",e}({});var w=s(10230),D=s(2830),E=s(53321),A=s(66032);const L=({host:e,users:n,onJoinClick:s,onCancel:a,joinState:i,currentDeviceType:t,currentDeviceName:o})=>{const l=C()(d.Z.container,{[d.Z.waiting]:i===_.JOINING}),c=(0,w.z)(t);return(0,p.jsx)("div",{className:l,children:(0,p.jsxs)("div",{className:d.Z.innerContainer,children:[(0,p.jsxs)(A.x,{children:[(0,p.jsx)(D.o,{users:n,size:"xlarge",maxSlots:3}),(0,p.jsx)(y.x,{as:"h3",variant:"titleMedium",semanticColor:"textBase",children:O.ag.get("web-player.social-connect.join-modal.title",{host:(0,p.jsx)("span",{className:d.Z.hostName,children:e?.displayName??""})})})]}),(0,p.jsx)(I,{children:(0,p.jsxs)("div",{className:d.Z.singleDevice,children:[(0,p.jsx)(c,{semanticColor:"textBrightAccent"}),(0,p.jsx)(y.x,{variant:"bodyMediumBold",semanticColor:"textBrightAccent",children:O.ag.get("web-player.social-connect.join-modal.continue-on-this-device",{device:o})})]})}),(0,p.jsxs)(E.q,{children:[(0,p.jsx)(k.D,{onClick:s,disabled:i===_.JOINING,children:O.ag.get("web-player.social-connect.join-modal.button-primary")}),(0,p.jsx)(f.o,{semanticColor:"textBase",onClick:a,disabled:i===_.JOINING,children:O.ag.get("web-player.social-connect.join-modal.button-tertiary")}),(0,p.jsx)(S,{children:(0,p.jsx)(y.x,{variant:"marginal",semanticColor:"textSubdued",children:O.ag.get("web-player.social-connect.join-modal.privacy-notice")})})]})]})})};var J=s(4955);function T(){const{isLocalDevice:e,deviceName:n}=(0,x.B)((({activeDevice:e})=>({isLocalDevice:e?.isLocal??!0,deviceName:e?.name??""})),((e,n)=>e.deviceName===n.deviceName&&e.isLocalDevice===n.isLocalDevice));return function(e,n){const s=(0,J.wW)();return e?s?O.ag.get("web-player.social-connect.join-modal.device-name.this-computer"):O.ag.get("web-player.social-connect.join-modal.device-name.this-browser"):n}(e,n)}var M=s(50500),B=s(59242);const F=()=>{const{spec:e,logger:n}=(0,B.fU)(M._,{});return{logJoin:(0,a.useCallback)((s=>{const a=s?e.joinButtonFactory().keyStrokeJoinSocialListeningSession():e.joinButtonFactory().hitJoinSocialListeningSession();n.logInteraction(a)}),[n,e]),logCancel:(0,a.useCallback)((s=>{const a=s?e.cancelButtonFactory().keyStrokeUiHide():e.cancelButtonFactory().hitUiHide();n.logInteraction(a)}),[n,e])}};var U=s(60278),P=s(84489),R=s(41367);const V=({joinToken:e,onCancel:n})=>{const{getSessionInfo:s,joinSession:l}=(0,j.A)(),{logJoin:r}=F(),d=(0,c.s4)(),u=(0,x.B)((({activeDevice:e})=>e?.type??v.Yi.COMPUTER)),m=T(),[g,N]=(0,a.useState)(null),C=(0,i.I0)();(0,a.useEffect)((()=>{s(e).then((e=>{e?N(e):(C((0,o.ky)()),C((0,o.xX)(b.JamModalType.SESSION_ENDED)))}))}),[C,s,e]);const[y,k]=(0,a.useState)(_.NONE),f=(0,a.useCallback)((async n=>{k(_.JOINING),r((0,R.v)(n));try{const n=await l(e);n&&(k(_.JOINED),d.send((0,t.G)({session_id:g?.sessionId,join_type:U.AH.DEEPLINK,join_url:n.joinSessionUri,participation_mode:U.FF.REMOTE})))}catch(e){k(_.FAILED),e instanceof Error&&d.send((0,t.G)({session_id:g?.sessionId,error_category:e.name,error_data:e.message})),C((0,o.xX)(b.JamModalType.ERROR))}C((0,o.ky)())}),[C,d,l,e,r,g?.sessionId]);if(!g)return(0,p.jsx)(h,{});const O=g.sessionMembers.find((e=>e.id===g.sessionOwnerId)),I=g.sessionMembers.map(P.V),S=O?(0,P.V)(O):null;return(0,p.jsx)(L,{host:S,users:I,onJoinClick:f,onCancel:n,joinState:y,currentDeviceType:u,currentDeviceName:m})},G=()=>{const{logCancel:e}=F(),n=(0,i.v9)((e=>{const n=e.ui.groupSessionJoinModal;return(0,b.isGroupSessionJoinModalOpen)(n)&&n.joinToken})),s=(0,i.I0)(),t=(0,a.useCallback)((n=>{e((0,R.v)(n)),s((0,o.ky)())}),[s,e]),c=Boolean(n);return(0,p.jsx)(l.Z,{isOpen:c,onRequestClose:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,animated:!0,children:n&&(0,p.jsx)(V,{joinToken:n,onCancel:t})})}}}]);
//# sourceMappingURL=xpui-desktop-modals.js.map