"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{81594:(e,i,t)=>{t.d(i,{U:()=>D});var s=t(80388),r=t(79474),l=t(89551),n=(t(62355),t(48117),t(63512),t(60608),t(1137),t(45689),t(97500)),a=t.n(n),c=t(61343),d=t(88514),o=t(66123),u=t(25740),m=t(2940),x=t(98678),h=t(67318),j=t(43515);var p=t(19606),y=t(967);const g="main-topBar-contentArea",f="queue-tabBar-headerIsCentered",b="queue-tabBar-headerItem",v="queue-tabBar-moreButton",k="queue-tabBar-moreButtonActive",R="yxf_6IsQEmHjijEBUMTP",E="queue-tabBar-active",C="queue-tabBar-headerItemLink",w="queue-tabBar-header",I="queue-tabBar-chevron";var N=t(13274);const A=({items:e,activeItemId:i})=>(0,N.jsx)(p.W,{children:e.map((e=>e.disabled?(0,N.jsx)(y.D,{disabled:!0,role:"menuitemradio",className:R,onClick:e.handleClick,children:e.title},e.uri):(0,N.jsx)(y.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>a()(R,{[E]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var S=t(96467);const P=(0,r.memo)((function({isCentered:e,links:i,landmarkLabel:t,className:s}){const n=(0,r.useRef)(null),[p,y]=(0,r.useState)([]),[R,P]=(0,r.useState)(0),[T,U]=(0,r.useState)([]),O=function(){const[e,i]=(0,r.useState)(window.innerWidth),{scrollNodeChildRef:t}=(0,r.useContext)(h.bi),s=(0,x.YQ)((e=>{e?.width&&i(e.width)}),250);return(0,j.w)({refOrElement:t,observeOnly:"width",onResize:s}),e}()??1/0,{pathname:M}=(0,c.zy)(),_=i.find((e=>e.to===M));return(0,r.useEffect)((()=>{n.current&&P(n.current.clientWidth)}),[O]),(0,r.useEffect)((()=>{if(!n.current)return;const e=Array.from(n.current.children).map((e=>e.clientWidth));y(e)}),[i]),(0,r.useEffect)((()=>{if(!n.current)return;if(p.slice(0,-1).reduce(((e,i)=>e+i),0)<=R)return void U([]);const e=p.reduce(((e,i)=>e>i?e:i),0),i=[];let t=e;p.forEach(((e,s)=>{R>=t+e?t+=e:i.push(s)})),U(i)}),[R,p]),(0,N.jsx)("nav",{className:a()(s,g),"aria-label":t,children:(0,N.jsxs)("ul",{className:e?f:w,ref:n,children:[i.filter(((e,i)=>!T.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,N.jsx)(r.Fragment,{children:i((0,N.jsx)("li",{className:b,children:e.disabled?(0,N.jsx)("div",{className:C,children:(0,N.jsx)(d.E,{variant:"bodySmallBold",children:e.title})}):(0,N.jsx)(S.k,{end:!0,className:({isActive:e})=>a()(C,{[E]:e}),to:e.to,onClick:e.handleClick,children:(0,N.jsx)(d.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),T.length||0===p.length?(0,N.jsx)("li",{className:b,children:(0,N.jsx)(m.tz,{renderInline:!0,menu:(0,N.jsx)(A,{items:i.filter(((e,i)=>T.includes(i))),activeItemId:_?.itemId}),children:(e,i,t)=>(0,N.jsxs)("button",{className:a()(v,{[k]:_}),type:"button",onClick:i,ref:t,children:[(0,N.jsx)(d.E,{variant:"bodySmallBold",children:_?_.title:l.R.get("more")}),e?(0,N.jsx)(o.J,{size:"small",className:I,"aria-hidden":"true"}):(0,N.jsx)(u.y,{size:"small",className:I,"aria-hidden":"true"})]})})}):null]})})}));var T=t(53475),U=t(87901),O=t(20510);const M="queue-tabBar-nav",_=()=>{const e=(0,O.U)(),i=(0,r.useCallback)((e=>(0,N.jsx)(U.u,{placement:"bottomEnd",arrow:"topStart",title:l.R.get("pick-and-shuffle.upsell.title.queue"),children:e})),[]),t=(0,r.useMemo)((()=>[{title:l.R.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:i,disabled:e},{title:l.R.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]),[e,i]);return(0,N.jsx)(T.g,{children:(0,N.jsx)(P,{className:M,links:t})})},D=({children:e})=>{const i=(0,s.yM)();return(0,N.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,N.jsx)(_,{})]})}},77731:(e,i,t)=>{t.r(i),t.d(i,{default:()=>B});var s=t(80388),r=t(88514),l=t(89551),n=t(43246),a=t(79474),c=t(62358),d=t(33570),o=t(75108),u=t(34131),m=t(25973),x=t(48522),h=t(47177),j=t(63275),p=t(46570),y=t(38991),g=t(75732),f=t(67553),b=t(65980),v=t(58032),k=t(42956),R=t(41057),E=t(73575),C=t(35919),w=t(37576),I=t(48378),N=t(16629),A=t(3315),S=t(43446),P=t(76171),T=t(13274);const U=a.memo((function({uri:e,name:i,duration_ms:t,index:s,imgUrl:r,artists:n,album:a,isExplicit:c,isMOGEFRestricted:d,contextItem:u,type:x}){const{isActive:h,isPlaying:U,triggerPlay:O,togglePlay:M}=(0,I.P)({uri:e,pages:[{items:[{...u}]}]},{featureIdentifier:"history"}),_=x===m.c.TRACK,D=x===m.c.EPISODE,L=x===m.c.CHAPTER,q=(0,w.T)(e),B=(0,S.g)(e),{badges:F,hasBadges:G}=(0,N.b)({downloadAvailability:q,isExplicit:c,isMOGEFRestricted:d}),H=n?.map((e=>e.name)).join(l.R.getSeparator())||"";let K;return D?K=(0,T.jsx)(y.b,{uri:e,contextUri:e,showUri:a.uri}):L?K=(0,T.jsx)(A.r,{uri:e}):_&&(0,j.Pk)(e)?K=(0,T.jsx)(g.A,{uri:e,contextUri:e}):_&&(K=(0,T.jsx)(f.P,{uri:e,contextUri:e,albumUri:a.uri,artists:n})),(0,T.jsx)(o.pZ,{value:"row",index:s,children:(0,T.jsx)(p.h,{menu:K,children:(0,T.jsxs)(k.w,{uri:e,contextUri:e,index:s,ariaRowIndex:s,onTriggerPlay:()=>{O()},isActive:h,isPlayable:B,ageRestricted:d,dragMetadata:{name:i,createdBy:H},children:[(0,T.jsxs)(b.U6,{ariaColIndex:0,children:[(0,T.jsx)(b.uF,{uri:e,src:r,isPlaying:U,isActive:h,isLocked:!1,onClick:()=>{M()},isEpisode:(0,j.gH)(e),playAriaLabel:l.R.get("tracklist.a11y.play",i,H)}),(0,T.jsxs)(b.l1,{children:[(0,T.jsx)(b.pJ,{titleText:i,children:i}),G&&(0,T.jsxs)(b.Pe,{children:[F.download&&(0,T.jsx)(R._,{}),F.explicit&&(0,T.jsx)(E.g,{}),F.nineteen&&(0,T.jsx)(C.q,{className:v.A.nineteen,size:16})]}),(0,T.jsx)(b.pj,{children:(0,j.U_)(e)?(0,T.jsx)(b.lw,{artists:n}):n[0]?.name??""})]})]}),(0,T.jsx)(b.oi,{ariaColIndex:2,children:(0,T.jsx)(b.gy,{nonInteractive:(0,j.Pk)(e),uri:a.uri,name:a.name,creatorUri:n?.[0]?.uri,children:a.name})}),(0,T.jsxs)(b.lH,{ariaColIndex:1,children:[!L&&(0,T.jsx)(P.d,{uri:e,type:x}),(0,T.jsx)(b.Po,{duration:t}),(0,T.jsx)(b.Y8,{menu:K,label:l.R.get("more.label.track",i,H)})]})]})})})}),((e,i)=>e.uri===i.uri)),O=a.memo((function({items:e}){const i=(0,a.useCallback)(((e,i)=>{const t=(0,h.g)(e.images??[],{desiredSize:40});return(0,u.v_)(e)?(0,T.jsx)(U,{index:i,uri:e.isLocal?e.uri:(0,d.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:m.c.TRACK},i+e.uri):(0,u.p0)(e)?(0,T.jsx)(U,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:m.c.EPISODE},i+e.uri):(0,u.dS)(e)?(0,T.jsx)(U,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:m.c.CHAPTER},i+e.uri):((0,u.NE)(e)||(0,u.vC)(e)||(0,x.k)(e),(0,T.jsx)(c.qq,{height:`${c.FL}px`}))}),[]),t=(0,a.useMemo)((()=>[c.$C.TITLE_AND_ARTIST,c.$C.ALBUM_OR_PODCAST,c.$C.DURATION]),[]),s=(0,a.useCallback)((e=>({uri:e.uri})),[]);return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(o.pZ,{value:"play-history-tracklist",children:(0,T.jsx)(c.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:t,renderRow:i,resolveItem:s,tracks:e,nrTracks:e.length,rowPlaceholder:c.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})})),M="dt3fysZYdQ6hhWfpmjAu",_="n6LsTkKvpO88xeRyRTdw",D=()=>{const{isLoading:e,data:i}=(0,s.ao)();return e?null:i?.items.length?(0,T.jsxs)("div",{className:M,children:[(0,T.jsx)(r.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:_,children:l.R.get("view.recently-played")}),(0,T.jsx)(O,{items:i.items})]}):(0,T.jsx)(n.H,{})};var L=t(81594),q=t(2038);const B=()=>(0,s.yM)()?(0,T.jsx)(L.U,{children:(0,T.jsx)(D,{})}):(0,T.jsx)(q.InstrumentedRedirect,{to:"/"})},33570:(e,i,t)=>{t.d(i,{a:()=>s});const s=e=>e?.linked_from?.uri||e.uri}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map